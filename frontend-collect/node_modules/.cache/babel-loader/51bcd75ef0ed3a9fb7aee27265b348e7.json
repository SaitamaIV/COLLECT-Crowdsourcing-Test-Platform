{"remainingRequest":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\modules\\report\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\modules\\report\\edit.vue","mtime":1653494481158},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\babel.config.js","mtime":1653401012640},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653401020224},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":1653401017578},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653401020224},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":1653401043277}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8g5LiA5Lqb5Z+65pys5qC85byP55qE5qCh6aqM5qCh6aqMCmltcG9ydCB7IGlzRW1haWwsIGlzTW9iaWxlIH0gZnJvbSAiQC91dGlscy92YWxpZGF0ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IExvYWRpbmcgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IE15Q3JvcHBlciBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL015Q3JvcHBlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29vcmRpbmF0ZXM6IFtdLAogICAgICBmdWxsc2NyZWVuTG9hZGluZzogZmFsc2UsCiAgICAgIHR5cGU6ICcnLAogICAgICBpbWdVcmxMaXN0OiBbXSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGJhc2U6ICIiLAogICAgICBmaWxlczogJycsCiAgICAgIHVpZDogJycsCiAgICAgIG1pZDogJycsCiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGJ1Z0Rlc2NyaXB0aW9uOiAnJywKICAgICAgICBidWdSZWN1cnJlbnRTdGVwczogJycsCiAgICAgICAgZGV2aWNlSW5mb3JtYXRpb246ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdGl0bGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmiqXlkYrkuLvpopgnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgYnVnRGVzY3JpcHRpb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmvI/mtJ7mj4/ov7Dkv6Hmga8nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgYnVnUmVjdXJyZW50U3RlcHM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmvI/mtJ7lpI3njrDmraXpqqQnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZGV2aWNlSW5mb3JtYXRpb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXorr7lpIfor6bnu4bkv6Hmga8nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvL+WwhuS4iuS4gOe6p+eahOeVjOmdouS/neWtmOWPluWHuuadpQogICAgdGhpcy51aWQgPSB0aGlzLiRzdG9yYWdlLmdldCgidWlkIik7CiAgICB0aGlzLmZpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZpZDsKICAgIHRoaXMubWlkID0gdGhpcy4kcm91dGUucXVlcnkubWlkOwogICAgY29uc29sZS5sb2coInVpZDoiKTsKICAgIGNvbnNvbGUubG9nKHRoaXMudWlkKTsKICAgIGNvbnNvbGUubG9nKCJtaWQ6Iik7CiAgICBjb25zb2xlLmxvZyh0aGlzLm1pZCk7CiAgICBjb25zb2xlLmxvZygiZmlkOiIgKyB0aGlzLmZpZCk7CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgdXBkYXRhOiBmdW5jdGlvbiB1cGRhdGEoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJoZXJlIik7CgogICAgICBpZiAodGhpcy5pbWdVcmxMaXN0Lmxlbmd0aCA+PSA0KSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pyA5aSa5LiK5LygNOW8oOWbvueJh++8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coImhlcmUiKTsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07IC8v5qC55o2u5LqL5Lu25rqQ5om+5Yiw5LiK5Lyg55qEZmlsZQoKICAgICAgaWYgKGZpbGUgPT0gbnVsbCkgcmV0dXJuOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdtdWx0aXBhcnRGaWxlJywgZmlsZSk7IC8v6ZSu5ZCN6KaB5ZKM5ZCO5Y+w5LiA6Ie0CgogICAgICB2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9KTsKICAgICAgaW5zdGFuY2UucG9zdCgnL2NvbGxlY3QvZmlsZS91cGxvYWQnLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YSk7CgogICAgICAgIF90aGlzLmltZ1VybExpc3QucHVzaChyZXMuZGF0YS5kYXRhKTsKCiAgICAgICAgX3RoaXMuJHJlZnMuY3JvcHBlckNoaWxkLnNldEltYWdlKGV2ZW50KTsKCiAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gJyc7CiAgICAgIH0pOwogICAgfSwKICAgIC8vZ2V0IGZvdXIgcGFyYW1zCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKGFyZ3MpIHsKICAgICAgY29uc29sZS5sb2coImkgYW0gZmF0aGVyIik7IC8veCx5LGJveAoKICAgICAgdmFyIHBhcmFtcyA9IEpTT04ucGFyc2UoYXJnc1swXSk7IC8vb3JpZ2luIGltYWdlCgogICAgICB2YXIgaW1hZ2VQYXJhbXMgPSBhcmdzWzFdOwogICAgICBjb25zb2xlLmxvZyhwYXJhbXMpOwogICAgICBjb25zb2xlLmxvZyhpbWFnZVBhcmFtcyk7CiAgICAgIGNvbnNvbGUubG9nKHBhcmFtcy54ICogODAwIC8gaW1hZ2VQYXJhbXMubmF0dXJhbEhlaWdodCk7IC8v5bCP5Zu+5LiN6KaBCgogICAgICBpZiAoaW1hZ2VQYXJhbXMubmF0dXJhbFdpZHRoIDwgNDUwIHx8IGltYWdlUGFyYW1zLm5hdHVyYWxIZWlnaHQgPCA4MDApIHsKICAgICAgICB0aGlzLmltZ1VybExpc3QucG9wKCk7CiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35LiK5Lyg5YiG6L6o546H5ZyoODAwKjQ1MOS7peS4iueahOWbvueJh++8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGNvb2RpbmF0ZSA9IFtdOwogICAgICB2YXIgY29sdW1uX21pbiwgY29sdW1uX21heCwgcm93X21pbiwgcm93X21heDsKCiAgICAgIGlmIChpbWFnZVBhcmFtcy5uYXR1cmFsSGVpZ2h0IC8gaW1hZ2VQYXJhbXMubmF0dXJhbFdpZHRoID4gMTYgLyA5KSB7CiAgICAgICAgY29sdW1uX21pbiA9IHBhcnNlSW50KHBhcmFtcy54ICogODAwIC8gaW1hZ2VQYXJhbXMubmF0dXJhbEhlaWdodCk7CiAgICAgICAgY29sdW1uX21heCA9IHBhcnNlSW50KChwYXJhbXMueCArIHBhcmFtcy53aWR0aCkgKiA4MDAgLyBpbWFnZVBhcmFtcy5uYXR1cmFsSGVpZ2h0KTsKICAgICAgICByb3dfbWluID0gcGFyc2VJbnQocGFyYW1zLnkgKiA4MDAgLyBpbWFnZVBhcmFtcy5uYXR1cmFsSGVpZ2h0KTsKICAgICAgICByb3dfbWF4ID0gcGFyc2VJbnQoKHBhcmFtcy55ICsgcGFyYW1zLmhlaWdodCkgKiA4MDAgLyBpbWFnZVBhcmFtcy5uYXR1cmFsSGVpZ2h0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb2x1bW5fbWluID0gcGFyc2VJbnQocGFyYW1zLnggKiA0NTAgLyBpbWFnZVBhcmFtcy5uYXR1cmFsV2lkdGgpOwogICAgICAgIGNvbHVtbl9tYXggPSBwYXJzZUludCgocGFyYW1zLnggKyBwYXJhbXMud2lkdGgpICogNDUwIC8gaW1hZ2VQYXJhbXMubmF0dXJhbFdpZHRoKTsKICAgICAgICByb3dfbWluID0gcGFyc2VJbnQocGFyYW1zLnkgKiA0NTAgLyBpbWFnZVBhcmFtcy5uYXR1cmFsV2lkdGgpOwogICAgICAgIHJvd19tYXggPSBwYXJzZUludCgocGFyYW1zLnkgKyBwYXJhbXMuaGVpZ2h0KSAqIDQ1MCAvIGltYWdlUGFyYW1zLm5hdHVyYWxXaWR0aCk7CiAgICAgIH0KCiAgICAgIGNvb2RpbmF0ZS5wdXNoKGNvbHVtbl9taW4sIGNvbHVtbl9tYXgsIHJvd19taW4sIHJvd19tYXgpOwogICAgICBjb25zb2xlLmxvZyhjb29kaW5hdGUpOwogICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2goY29vZGluYXRlKTsKICAgICAgY29uc29sZS5sb2codGhpcy5jb29yZGluYXRlcyk7IC8vODAwL25hdHVyYWxIZWlnaHQKCiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS4iuS8oOaIkOWKn++8gSIpOwogICAgfSwKICAgIC8vIOaPkOS6pAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbInJ1bGVGb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgdmFyIGRhdGFTdHJ1Y3QgPSB7CiAgICAgICAgICAidWlkIjogX3RoaXMyLnVpZCwKICAgICAgICAgICJtaWQiOiBfdGhpczIubWlkLAogICAgICAgICAgInRpdGxlIjogX3RoaXMyLnJ1bGVGb3JtLnRpdGxlLAogICAgICAgICAgInN1Ym1pdFRpbWUiOiBEYXRlLm5vdygpLAogICAgICAgICAgImJ1Z0Rlc2NyaXB0aW9uIjogX3RoaXMyLnJ1bGVGb3JtLmJ1Z0Rlc2NyaXB0aW9uLAogICAgICAgICAgImJ1Z1JlY3VycmVudFN0ZXBzIjogX3RoaXMyLnJ1bGVGb3JtLmJ1Z1JlY3VycmVudFN0ZXBzLAogICAgICAgICAgImRldmljZUluZm9ybWF0aW9uIjogX3RoaXMyLnJ1bGVGb3JtLmRldmljZUluZm9ybWF0aW9uLAogICAgICAgICAgInBpY3R1cmUxIjogX3RoaXMyLmltZ1VybExpc3RbMF0sCiAgICAgICAgICAicGljdHVyZTIiOiBfdGhpczIuaW1nVXJsTGlzdFsxXSwKICAgICAgICAgICJwaWN0dXJlMyI6IF90aGlzMi5pbWdVcmxMaXN0WzJdLAogICAgICAgICAgInBpY3R1cmU0IjogX3RoaXMyLmltZ1VybExpc3RbM10sCiAgICAgICAgICAiY29vcmRpbmF0ZTEiOiBfdGhpczIuY29vcmRpbmF0ZXNbMF0sCiAgICAgICAgICAiY29vcmRpbmF0ZTIiOiBfdGhpczIuY29vcmRpbmF0ZXNbMV0sCiAgICAgICAgICAiY29vcmRpbmF0ZTMiOiBfdGhpczIuY29vcmRpbmF0ZXNbMl0sCiAgICAgICAgICAiY29vcmRpbmF0ZTQiOiBfdGhpczIuY29vcmRpbmF0ZXNbM10KICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5kYXRhU3RydWN0KTsKCiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhU3RydWN0KTsKCiAgICAgICAgICBpZiAoX3RoaXMyLmZpZCkgewogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICJmaWQiOiBfdGhpczIuZmlkLAogICAgICAgICAgICAgICJ1aWQiOiBfdGhpczIudWlkCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ4aWV6dW9iYW9nYW8iKTsKCiAgICAgICAgICAgIF90aGlzMi4kaHR0cCh7CiAgICAgICAgICAgICAgdXJsOiAicmVwb3J0L3N1Ym1pdHJlcG9ydCIsCiAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsCiAgICAgICAgICAgICAgZGF0YTogZGF0YVN0cnVjdAogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsCiAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy/kuLvmiqXlkYrmj5DkuqQKICAgICAgICAgICAgdmFyIGxvYWRpbmdJbnN0YW5jZSA9IExvYWRpbmcuc2VydmljZSh7CiAgICAgICAgICAgICAgZnVsbHNjcmVlbjogdHJ1ZSwKICAgICAgICAgICAgICB0ZXh0OiAi6K+356iN5YCZ77yM5q2j5Zyo5Li65oKo5YiG5p6Q5o+Q5Lqk57uT5p6cfiIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczIuJGh0dHAoewogICAgICAgICAgICAgIHVybDogImZldGNobWlzc2lvbi9zdWJtaXRyZXBvcnQ/dWlkPSIuY29uY2F0KF90aGlzMi51aWQsICImbWlkPSIpLmNvbmNhdChfdGhpczIubWlkKSwKICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICBkYXRhOiBkYXRhU3RydWN0CiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgdmFyIHN1Ym1pdEZpZCA9IGRhdGEuZmlkOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip8iLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAsCiAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgICAgICAgICAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9yZXBvcnQvc2ltaWxhcmxpc3QnLAogICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlkOiBzdWJtaXRGaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG1pZDogX3RoaXMyLm1pZAogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6L+U5ZueCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTXlDcm9wcGVyOiBNeUNyb3BwZXIKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACAA,MADA,kBACA;AACA;AACAC,qBADA;AAEAC,8BAFA;AAGAC,cAHA;AAIAC,oBAJA;AAKAC,kBALA;AAMAC,0BANA;AAOAC,oBAPA;AAQAC,cARA;AASAC,eATA;AAUAC,aAVA;AAWAC,aAXA;AAYAC;AACAC,iBADA;AAEAC,0BAFA;AAGAC,6BAHA;AAIAC;AAJA,OAZA;AAkBAC;AACAJ,gBACA;AAAAK;AAAAC;AAAAC;AAAA,SADA,CADA;AAIAN,yBACA;AAAAI;AAAAC;AAAAC;AAAA,SADA,CAJA;AAOAL,4BACA;AAAAG;AAAAC;AAAAC;AAAA,SADA,CAPA;AAUAJ,4BACA;AAAAE;AAAAC;AAAAC;AAAA,SADA;AAVA;AAlBA;AAiCA,GAnCA;AAoCAC,SApCA,qBAoCA;AACA;AACA;AACA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;AAEA,GA/CA;AAgDAC,cAhDA;AAiDAC;AACAC,UADA,kBACAC,KADA,EACA;AAAA;;AACAJ;;AACA;AACA;AACA;AACA;;AACAA;AACA;AACAI;AACA,uCATA,CASA;;AACA;AACA;AACAC,6CAZA,CAYA;;AACA;AACAC;AADA;AAGAC;AACAP;;AACA;;AACA;;AACAI;AACA,OALA;AAMA,KAvBA;AAyBA;AACAI,WA1BA,mBA0BAC,IA1BA,EA0BA;AACAT,iCADA,CAEA;;AACA,uCAHA,CAIA;;AACA;AAEAA;AACAA;AACAA,8DATA,CAWA;;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACAU;AACAC;AACAC;AACAC;AACA,OALA,MAKA;AACAH;AACAC;AACAC;AACAC;AACA;;AAEAC;AACAd;AACA;AACAA,oCApCA,CAqCA;;AACA;AACA;AACA,KAlEA;AAmEA;AACAe,YApEA,sBAoEA;AAAA;;AACA;AACA;AACA,2BADA;AAEA,2BAFA;AAGA,wCAHA;AAIA,kCAJA;AAKA,0DALA;AAMA,gEANA;AAOA,gEAPA;AAQA,0CARA;AASA,0CATA;AAUA,0CAVA;AAWA,0CAXA;AAYA,8CAZA;AAaA,8CAbA;AAcA,8CAdA;AAeA;AAfA;AAiBAf;;AACA;AACAA;;AACA;AACA;AACA,+BADA;AAEA;AAFA;AAIAA;;AACA;AACAgB,wCADA;AAEAC,4BAFA;AAGAC,4BAHA;AAIAxC;AAJA,eAKAyC,IALA,CAKA;AAAA;;AACA;AACA;AACAtB,iCADA;AAEAhB,iCAFA;AAGAuC,gCAHA;AAIAC;AACA;AACA;AANA;AAQA,eATA,MASA;AACA;AACA;AACA,aAlBA;AAmBA,WAzBA,MAyBA;AACA;AACA;AAAAC;AAAAC;AAAA;;AACA;AACAP,kGADA;AAEAC,4BAFA;AAGAvC;AAHA,eAIAyC,IAJA,CAIA;AAAA;;AACA;AACAnB;AACA;;AACA;AACAH,iCADA;AAEAhB,iCAFA;AAGAuC,+BAHA;AAIAC;AACAG;;AACA;AACAC,iDADA;AAEAC;AACAC,sCADA;AAEAtC;AAFA;AAFA;AAOA;AAbA;AAeA,eAlBA,MAkBA;AACA;AACA;AACA,aA1BA;AA2BA;AACA;AACA,OA9EA;AA+EA,KApJA;AAqJA;AACAuC,QAtJA,kBAsJA;AACA;AACA;AAxJA,GAjDA;AA2MAC;AACAC;AADA;AA3MA","names":["data","coordinates","fullscreenLoading","type","imgUrlList","fileList","dialogVisible","visible","base","files","uid","mid","ruleForm","title","bugDescription","bugRecurrentSteps","deviceInformation","rules","required","message","trigger","mounted","console","computed","methods","updata","event","formData","withCredentials","instance","getData","args","column_min","column_max","row_min","row_max","coodinate","onSubmit","url","method","params","then","duration","onClose","fullscreen","text","loadingInstance","path","query","fid","back","components","MyCropper"],"sourceRoot":"src/views/modules/report","sources":["edit.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n        title=\"请将bug用方框标出\"\r\n        width=\"70%\"\r\n        :visible.sync=\"visible\"\r\n        :show-close=\"false\"\r\n    >\r\n      <my-cropper ref=\"cropperChild\" @getData=\"getData(arguments)\"></my-cropper>\r\n    </el-dialog>\r\n    <el-form\r\n        class=\"detail-form-content\"\r\n        ref=\"ruleForm\"\r\n        :model=\"ruleForm\"\r\n        :rules=\"rules\"\r\n        label-width=\"80px\">\r\n\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-form-item label=\"报告主题\" prop=\"title\">\r\n            <el-input\r\n                v-model=\"ruleForm.title\"\r\n                :autosize=\"{ minRows: 1, maxRows: 15 }\"\r\n                type=\"textarea\"\r\n                placeholder=\"报告主题\"\r\n                style=\"width: 70%;margin-left: 2em\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item label=\"漏洞描述\" prop=\"bugDescription\">\r\n            <el-input\r\n                v-model=\"ruleForm.bugDescription\"\r\n                :autosize=\"{ minRows: 2, maxRows: 15 }\"\r\n                type=\"textarea\"\r\n                placeholder=\"漏洞描述信息\"\r\n                style=\"width: 70%;margin-left: 2em\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item label=\"复现步骤\" prop=\"bugRecurrentSteps\">\r\n            <el-input\r\n                v-model=\"ruleForm.bugRecurrentSteps\"\r\n                :autosize=\"{ minRows: 2, maxRows: 50 }\"\r\n                type=\"textarea\"\r\n                placeholder=\"漏洞复现步骤\"\r\n                style=\"width: 70%;margin-left: 2em\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item label=\"设备信息\" prop=\"deviceInformation\">\r\n            <el-input\r\n                v-model=\"ruleForm.deviceInformation\"\r\n                :autosize=\"{ minRows: 2, maxRows: 50 }\"\r\n                type=\"textarea\"\r\n                placeholder=\"设备详细信息\"\r\n                style=\"width: 70%;margin-left: 2em\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"30\">\r\n          <el-form-item label=\"测试图\">\r\n            <div class=\"file-freestyle\">\r\n              <input name=\"file\" type=\"file\" @change=\"updata\" class=\"upload_file\"/>\r\n            </div>\r\n          </el-form-item>\r\n          <!--          <file-box></file-box>-->\r\n        </el-col>\r\n        <el-col>\r\n          <template v-if=\"imgUrlList.length>0\">\r\n            <div class=\"demo-image__preview\">\r\n              <el-image v-if=\"imgUrlList.length>0\"\r\n                        style=\"width: 21em; height: 18em\"\r\n                        :src=\"imgUrlList[0]\"\r\n                        :preview-src-list=\"imgUrlList\"\r\n                        :initial-index=\"8\"\r\n                        fit=\"cover\"\r\n              />\r\n              <el-image v-if=\"imgUrlList.length>1\"\r\n                        style=\"width: 21em; height: 18em\"\r\n                        :src=\"imgUrlList[1]\"\r\n                        :preview-src-list=\"imgUrlList\"\r\n                        :initial-index=\"88\"\r\n                        fit=\"cover\"\r\n              />\r\n              <el-image v-if=\"imgUrlList.length>2\"\r\n                        style=\"width: 21em; height: 18em\"\r\n                        :src=\"imgUrlList[2]\"\r\n                        :preview-src-list=\"imgUrlList\"\r\n                        :initial-index=\"4\"\r\n                        fit=\"cover\"\r\n              />\r\n              <el-image v-if=\"imgUrlList.length>3\"\r\n                        style=\"width:21em; height: 18em\"\r\n                        :src=\"imgUrlList[3]\"\r\n                        :preview-src-list=\"imgUrlList\"\r\n                        :initial-index=\"8\"\r\n                        fit=\"cover\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </el-col>\r\n      </el-row>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit()\">提交</el-button>\r\n        <el-button @click=\"back()\">返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\n// 一些基本格式的校验校验\r\nimport {isEmail, isMobile} from \"@/utils/validate\";\r\nimport axios from \"axios\";\r\nimport {Loading} from 'element-ui'\r\nimport MyCropper from '@/components/common/MyCropper';\r\nexport default {\r\n  data() {\r\n    return {\r\n      coordinates:[],\r\n      fullscreenLoading:false,\r\n      type:'',\r\n      imgUrlList: [],\r\n      fileList: [],\r\n      dialogVisible:false,\r\n      visible:false,\r\n      base:\"\",\r\n      files:'',\r\n      uid: '',\r\n      mid: '',\r\n      ruleForm: {\r\n        title: '',\r\n        bugDescription: '',\r\n        bugRecurrentSteps:'',\r\n        deviceInformation:''\r\n      },\r\n      rules: {\r\n        title: [\r\n          {required: true, message: '请输入报告主题', trigger: 'blur'},\r\n        ],\r\n        bugDescription: [\r\n          {required: true, message: '请输入漏洞描述信息', trigger: 'blur'},\r\n        ],\r\n        bugRecurrentSteps: [\r\n          {required: true, message: '请输入漏洞复现步骤', trigger: 'blur'},\r\n        ],\r\n        deviceInformation: [\r\n          {required: true, message: '请输入设备详细信息', trigger: 'blur'},\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    //将上一级的界面保存取出来\r\n    this.uid=this.$storage.get(\"uid\");\r\n    this.fid=this.$route.query.fid;\r\n    this.mid=this.$route.query.mid;\r\n    console.log(\"uid:\");\r\n    console.log(this.uid);\r\n    console.log(\"mid:\");\r\n    console.log(this.mid);\r\n    console.log(\"fid:\"+this.fid);\r\n\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    updata(event){\r\n      console.log(\"here\")\r\n      if(this.imgUrlList.length>=4){\r\n        this.$message.error(\"最多上传4张图片！\")\r\n        return;\r\n      }\r\n      console.log(\"here\")\r\n      this.visible=true\r\n      event.preventDefault()\r\n      let file=event.target.files[0] //根据事件源找到上传的file\r\n      if(file==null) return\r\n      let formData = new FormData();\r\n      formData.append('multipartFile',file);//键名要和后台一致\r\n      const instance=axios.create({\r\n        withCredentials: true\r\n      })\r\n      instance.post('/collect/file/upload',formData).then(res=>{\r\n        console.log(res.data.data)\r\n        this.imgUrlList.push(res.data.data)\r\n        this.$refs.cropperChild.setImage(event)\r\n        event.target.value=''\r\n      })\r\n    },\r\n\r\n    //get four params\r\n    getData(args){\r\n      console.log(\"i am father\")\r\n      //x,y,box\r\n      let params=JSON.parse(args[0])\r\n      //origin image\r\n      let imageParams=args[1]\r\n\r\n      console.log(params)\r\n      console.log(imageParams)\r\n      console.log(params.x*800/imageParams.naturalHeight)\r\n\r\n      //小图不要\r\n      if(imageParams.naturalWidth<450 || imageParams.naturalHeight<800){\r\n        this.imgUrlList.pop()\r\n        this.visible=false\r\n        this.$message.error(\"请上传分辨率在800*450以上的图片！\")\r\n        return\r\n      }\r\n\r\n      let coodinate=[]\r\n      let column_min,column_max,row_min,row_max\r\n      if(imageParams.naturalHeight/imageParams.naturalWidth>16/9){\r\n        column_min=parseInt(params.x*800/imageParams.naturalHeight)\r\n        column_max=parseInt((params.x+params.width)*800/imageParams.naturalHeight)\r\n        row_min=parseInt(params.y*800/imageParams.naturalHeight)\r\n        row_max=parseInt((params.y+params.height)*800/imageParams.naturalHeight)\r\n      }else{\r\n        column_min=parseInt(params.x*450/imageParams.naturalWidth)\r\n        column_max=parseInt((params.x+params.width)*450/imageParams.naturalWidth)\r\n        row_min=parseInt(params.y*450/imageParams.naturalWidth)\r\n        row_max=parseInt((params.y+params.height)*450/imageParams.naturalWidth)\r\n      }\r\n\r\n      coodinate.push(column_min,column_max,row_min,row_max)\r\n      console.log(coodinate)\r\n      this.coordinates.push(coodinate)\r\n      console.log(this.coordinates)\r\n      //800/naturalHeight\r\n      this.visible=false\r\n      this.$message.success(\"上传成功！\")\r\n    },\r\n    // 提交\r\n    onSubmit() {\r\n      this.$refs[\"ruleForm\"].validate(valid => {\r\n        let dataStruct={\r\n          \"uid\":this.uid,\r\n          \"mid\":this.mid,\r\n          \"title\":this.ruleForm.title,\r\n          \"submitTime\":Date.now(),\r\n          \"bugDescription\":this.ruleForm.bugDescription,\r\n          \"bugRecurrentSteps\":this.ruleForm.bugRecurrentSteps,\r\n          \"deviceInformation\":this.ruleForm.deviceInformation,\r\n          \"picture1\":this.imgUrlList[0],\r\n          \"picture2\":this.imgUrlList[1],\r\n          \"picture3\":this.imgUrlList[2],\r\n          \"picture4\":this.imgUrlList[3],\r\n          \"coordinate1\":this.coordinates[0],\r\n          \"coordinate2\":this.coordinates[1],\r\n          \"coordinate3\":this.coordinates[2],\r\n          \"coordinate4\":this.coordinates[3],\r\n        };\r\n        console.log(this.dataStruct);\r\n        if (valid) {\r\n          console.log(dataStruct)\r\n          if (this.fid) {\r\n            let params={\r\n              \"fid\":this.fid,\r\n              \"uid\":this.uid\r\n            }\r\n            console.log(\"xiezuobaogao\")\r\n            this.$http({\r\n              url: `report/submitreport`,\r\n              method: \"post\",\r\n              params:params,\r\n              data: dataStruct\r\n            }).then(({data}) => {\r\n              if (data && data.code === 0) {\r\n                this.$message({\r\n                  message: \"操作成功\",\r\n                  type: \"success\",\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.$router.go(-1)\r\n                  }\r\n                });\r\n              } else {\r\n                this.$message.error(data.msg);\r\n              }\r\n            });\r\n          } else {\r\n            //主报告提交\r\n            let loadingInstance = Loading.service({fullscreen: true,text: \"请稍候，正在为您分析提交结果~\"})\r\n            this.$http({\r\n              url: `fetchmission/submitreport?uid=${this.uid}&mid=${this.mid}`,\r\n              method: \"post\",\r\n              data: dataStruct\r\n            }).then(({data}) => {\r\n              if (data && data.code === 0) {\r\n                console.log(data)\r\n                let submitFid = data.fid\r\n                this.$message({\r\n                  message: \"操作成功\",\r\n                  type: \"success\",\r\n                  duration: 100,\r\n                  onClose: () => {\r\n                    loadingInstance.close()\r\n                    this.$router.push({\r\n                      path:'/report/similarlist',\r\n                      query:{\r\n                        fid:submitFid,\r\n                        mid:this.mid\r\n                      }\r\n                    })\r\n                  }\r\n                });\r\n              } else {\r\n                this.$message.error(data.msg);\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 返回\r\n    back() {\r\n      this.$router.go(-1)\r\n    },\r\n  },\r\n  components:{\r\n    MyCropper\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.editor {\r\n  height: 500px;\r\n}\r\n.file-freestyle {\r\n  display: inline-block;\r\n  width: 80px;\r\n  height: 40px;\r\n  line-height: 30px;\r\n  background-image:url(\"../../../../src/assets/img/upload.png\");\r\n  background-size: 100%;\r\n  text-align: center;\r\n  color: #FFFFFF;\r\n  border-radius: 5px;\r\n  cursor:pointer;\r\n}\r\n\r\n.upload_file {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 80px;\r\n  height: 40px;\r\n  /*透明度为0*/\r\n  opacity: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n"]}]}