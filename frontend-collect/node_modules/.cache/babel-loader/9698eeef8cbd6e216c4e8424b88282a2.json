{"remainingRequest":"D:\\软工三防爆\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js!D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\软工三防爆\\frontend-collect\\src\\views\\modules\\report\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\软工三防爆\\frontend-collect\\src\\views\\modules\\report\\list.vue","mtime":1670320133552},{"path":"D:\\软工三防爆\\frontend-collect\\babel.config.js","mtime":1670320072020},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":1670320081695},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":1670320130043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlcjogJycsCiAgICAgIG9yZGVyS2V5OiAnJywKICAgICAgbW9kZTogJ3RvdGFsU2NvcmVEZXNjJywKICAgICAgLy8gc3VibWl0VGltZUFzYyBzdWJtaXRUaW1lRGVzYyBzY29yZUFzYyBzY29yZURlc2MKICAgICAgc2VhcmNoRm9ybTogewogICAgICAgIGtleTogIiIKICAgICAgfSwKICAgICAgbG9naW5VaWQ6ICcnLAogICAgICBtaWQ6IDAsCiAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgcGFnZUluZGV4OiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiAwLAogICAgICBkYXRhTGlzdExvYWRpbmc6IGZhbHNlLAogICAgICBkYXRhTGlzdFNlbGVjdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubWlkID0gdGhpcy4kcm91dGUucXVlcnkubWlkOwogICAgdGhpcy51c2VyVHlwZSA9IHRoaXMuJHN0b3JhZ2UuZ2V0KCJ1c2VyVHlwZSIpOwogICAgdGhpcy5sb2dpblVpZCA9IHRoaXMuJHN0b3JhZ2UuZ2V0KCJ1aWQiKTsKICAgIGNvbnNvbGUubG9nKHRoaXMubG9naW5VaWQpOwogICAgdGhpcy5nZXREYXRhTGlzdCgpOwogIH0sCiAgZmlsdGVyczogewogICAgaHRtbGZpbHRlcjogZnVuY3Rpb24gaHRtbGZpbHRlcih2YWwpIHsKICAgICAgcmV0dXJuIHZhbC5yZXBsYWNlKC88W14+XSo+L2cpLnJlcGxhY2UoL3VuZGVmaW5lZC9nLCAnJyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMub3JkZXIgPSAnJzsKICAgICAgdGhpcy5vcmRlcktleSA9ICcnOwogICAgICB0aGlzLm1vZGUgPSAndG90YWxTY29yZURlc2MnOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgY2hhbmdlU3RvcmFnZTogZnVuY3Rpb24gY2hhbmdlU3RvcmFnZSgpIHsKICAgICAgaWYgKHRoaXMub3JkZXIgPT09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36YCJ5oup5o6S5bqP5pa55byP77yBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5vcmRlcktleSA9PT0gJycpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fpgInmi6nmjpLluo/mjIfmoIfvvIEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMubW9kZSA9IHRoaXMub3JkZXJLZXkgKyB0aGlzLm9yZGVyOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgc2VhcmNoQmFkUmVwb3J0czogZnVuY3Rpb24gc2VhcmNoQmFkUmVwb3J0cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5taWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5taWQ7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcGFnZUluZGV4OiB0aGlzLnBhZ2VJbmRleCwKICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZQogICAgICB9OwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6ICIvZmV0Y2htaXNzaW9uL2dldGJhZHJlcG9ydHM/bWlkPSIuY29uY2F0KHRoaXMubWlkKSwKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZGF0YUxpc3QpOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuZGF0YUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX3RoaXMuZGF0YUxpc3RbaV0uc3VibWl0VGltZSA9IG1vbWVudChuZXcgRGF0ZShfdGhpcy5kYXRhTGlzdFtpXS5zdWJtaXRUaW1lKSkuZm9ybWF0KCJZWVlZLU1NLUREIGhoOm1tOnNzIik7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZGF0YUxpc3QpOwogICAgICAgICAgX3RoaXMudG90YWwgPSBkYXRhLnRvdGFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5kYXRhTGlzdCA9IFtdOwogICAgICAgICAgX3RoaXMudG90YWwgPSAwOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluaVsOaNruWIl+ihqAogICAgZ2V0RGF0YUxpc3Q6IGZ1bmN0aW9uIGdldERhdGFMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5taWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5taWQ7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcGFnZUluZGV4OiB0aGlzLnBhZ2VJbmRleCwKICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBtb2RlOiB0aGlzLm1vZGUKICAgICAgfTsKICAgICAgY29uc29sZS5sb2cocGFyYW1zKTsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiAiL2ZldGNobWlzc2lvbi9zZWFyY2hyZXBvcnRzYnltaWQ/bWlkPSIuY29uY2F0KHRoaXMubWlkKSwKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgX3RoaXMyLmRhdGFMaXN0ID0gZGF0YS5saXN0OwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMyLmRhdGFMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIF90aGlzMi5kYXRhTGlzdFtpXS5zdWJtaXRUaW1lID0gbW9tZW50KG5ldyBEYXRlKF90aGlzMi5kYXRhTGlzdFtpXS5zdWJtaXRUaW1lKSkuZm9ybWF0KCJZWVlZLU1NLUREIGhoOm1tOnNzIik7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLmRhdGFMaXN0KTsKICAgICAgICAgIF90aGlzMi50b3RhbCA9IGRhdGEudG90YWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5kYXRhTGlzdCA9IFtdOwogICAgICAgICAgX3RoaXMyLnRvdGFsID0gMDsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5kYXRhTGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5q+P6aG15pWwCiAgICBzaXplQ2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnBhZ2VJbmRleCA9IDE7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICAvLyDlvZPliY3pobUKICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGU6IGZ1bmN0aW9uIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gdmFsOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g5aSa6YCJCiAgICBzZWxlY3Rpb25DaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2VIYW5kbGVyKHZhbCkgewogICAgICB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucyA9IHZhbDsKICAgIH0sCiAgICAvLyDor6bmg4UKICAgIHdhdGNoUmVwb3J0OiBmdW5jdGlvbiB3YXRjaFJlcG9ydChmaWQsIG1pZCkgewogICAgICBjb25zb2xlLmxvZyhmaWQpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9yZXBvcnQvZGV0YWlsJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgZmlkOiBmaWQsCiAgICAgICAgICBtaWQ6IG1pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY29vcGVyYXRpb25SZXBvcnQ6IGZ1bmN0aW9uIGNvb3BlcmF0aW9uUmVwb3J0KGZpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9yZXBvcnQvZWRpdCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGZpZDogZmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACAA,MADA,kBACA;AACA;AACAC,eADA;AAEAC,kBAFA;AAGAC,4BAHA;AAKA;AAEAC;AACAC;AADA,OAPA;AAUAC,kBAVA;AAWAC,YAXA;AAYAC,kBAZA;AAaAC,kBAbA;AAcAC,kBAdA;AAeAC,cAfA;AAgBAC,4BAhBA;AAiBAC;AAjBA;AAmBA,GArBA;AAsBAC,SAtBA,qBAsBA;AACA;AACA;AACA;AACAC;AACA;AACA,GA5BA;AA6BAC;AACAC;AACA;AACA;AAHA,GA7BA;AAkCAC;AACAC,SADA,mBACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOAC,iBAPA,2BAOA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,KAlBA;AAmBAC,oBAnBA,8BAmBA;AAAA;;AACA;AACA;AACA;AACAZ,iCADA;AAEAC;AAFA;AAIA;AACAY,gEADA;AAEAC,qBAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AAAA;;AACA;AACA;AACAV;;AACA;AACA;AACA;;AACAA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA;;AACA;AACA,OAlBA;AAmBA,KA7CA;AA8CA;AACAW,eA/CA,yBA+CA;AAAA;;AACA;AACA;AACA;AACAjB,iCADA;AAEAC,+BAFA;AAGAP;AAHA;AAKAY;AACA;AACAO,qEADA;AAEAC,qBAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AAAA;;AACA;AACA;;AACA;AACA;AACA;;AACAV;AACA;AACA,SAPA,MAOA;AACA;AACA;AACA;;AACA;AACA,OAjBA;AAkBA,KA1EA;AA2EA;AACAY,oBA5EA,4BA4EAC,GA5EA,EA4EA;AACA;AACA;AACA;AACA,KAhFA;AAiFA;AACAC,uBAlFA,+BAkFAD,GAlFA,EAkFA;AACA;AACA;AACA,KArFA;AAsFA;AACAE,0BAvFA,kCAuFAF,GAvFA,EAuFA;AACA;AACA,KAzFA;AA0FA;AACAG,eA3FA,uBA2FAC,GA3FA,EA2FAzB,GA3FA,EA2FA;AACAQ;AACA;AACAkB,8BADA;AAEAC;AACAF,kBADA;AAEAzB;AAFA;AAFA;AAOA,KApGA;AAqGA4B,qBArGA,6BAqGAH,GArGA,EAqGA;AACA;AACAC,4BADA;AAEAC;AACAF;AADA;AAFA;AAMA;AA5GA;AAlCA","names":["data","order","orderKey","mode","searchForm","key","loginUid","mid","dataList","pageIndex","pageSize","total","dataListLoading","dataListSelections","mounted","console","filters","htmlfilter","methods","reset","changeStorage","searchBadReports","url","method","params","then","getDataList","sizeChangeHandle","val","currentChangeHandle","selectionChangeHandler","watchReport","fid","path","query","cooperationReport"],"sourceRoot":"src/views/modules/report","sources":["list.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div>\r\n      <div class=\"table-content\">\r\n        <el-form>\r\n          <el-row>\r\n            <el-col>\r\n              <el-form-item>\r\n                <el-button round @click=\"getDataList()\">全部报告</el-button>\r\n                <el-button round @click=\"searchBadReports()\">查询低质量报告</el-button>\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"6\">\r\n              <el-form-item label=\"排序方式\">\r\n                <el-radio-group v-model=\"order\" size=\"small\" @change=\"changeStorage\">\r\n                  <el-radio-button label=\"Asc\">升序</el-radio-button>\r\n                  <el-radio-button label=\"Desc\">降序</el-radio-button>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"排序指标\">\r\n                <el-radio-group v-model=\"orderKey\" size=\"small\" @change=\"changeStorage\">\r\n                  <el-radio-button label=\"submitTime\">按提交时间排序</el-radio-button>\r\n                  <el-radio-button label=\"score\">按评分排序</el-radio-button>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <el-button round @click=\"reset()\">恢复默认排序</el-button>\r\n            </el-col>\r\n          </el-row>\r\n\r\n\r\n        </el-form>\r\n        <el-table\r\n            :data=\"dataList\"\r\n            border\r\n            v-loading=\"dataListLoading\"\r\n            @selection-change=\"selectionChangeHandler\"\r\n            style=\"width: 100%;\">\r\n          <el-table-column\r\n              type=\"selection\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              width=\"50\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"title\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"报告主题\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.title}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"bugDescription\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"漏洞描述信息\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.bugDescription}}\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n              prop=\"isBad\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"是否为低质量报告\">\r\n            <template slot-scope=\"scope\">\r\n              <i class=\"el-icon-check\" v-if=\"scope.row.isBad=='True'\" style=\"margin-top: 0.7em;color: green\" disabled ></i>\r\n              <i class=\"el-icon-loading\" v-if=\"scope.row.isBad=='Judging'\"></i>\r\n              <i class=\"el-icon-close\" v-if=\"scope.row.isBad=='False'\"  style=\"color: red\"></i>\r\n              <!--              {{scope.row.score}}-->\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"score\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"评分\">\r\n            <template slot-scope=\"scope\">\r\n                <el-rate v-if=\"scope.row.score>0\" style=\"margin-top: 0.7em\" v-model=\"scope.row.score\" disabled text-color=\"#ff9900\"></el-rate>\r\n                <el-tag v-else>暂无评分</el-tag>\r\n<!--              {{scope.row.score}}-->\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"submitTime\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              autosize\r\n              label=\"提交时间\">\r\n<!--            <template slot-scope=\"scope\">-->\r\n\r\n<!--            </template>-->\r\n          </el-table-column>\r\n          <el-table-column\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"watchReport(scope.row.fid,scope.row.mid)\">详情\r\n              </el-button>\r\n              <el-button v-if=\"userType ==='employee' && loginUid != scope.row.uid\" type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"cooperationReport(scope.row.fid)\">协作\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            @size-change=\"sizeChangeHandle\"\r\n            @current-change=\"currentChangeHandle\"\r\n            :current-page=\"pageIndex\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pageSize\"\r\n            :total=\"total\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            class=\"pagination-content\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport moment from \"moment\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      order:'',\r\n      orderKey:'',\r\n      mode:'totalScoreDesc',\r\n\r\n      // submitTimeAsc submitTimeDesc scoreAsc scoreDesc\r\n\r\n      searchForm: {\r\n        key: \"\"\r\n      },\r\n      loginUid:'',\r\n      mid:0,\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      dataListLoading: false,\r\n      dataListSelections: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.mid=this.$route.query.mid\r\n    this.userType=this.$storage.get(\"userType\")\r\n    this.loginUid=this.$storage.get(\"uid\")\r\n    console.log(this.loginUid)\r\n    this.getDataList();\r\n  },\r\n  filters: {\r\n    htmlfilter: function (val) {\r\n      return val.replace(/<[^>]*>/g).replace(/undefined/g, '');\r\n    }\r\n  },\r\n  methods: {\r\n    reset(){\r\n      this.order=''\r\n      this.orderKey=''\r\n      this.mode='totalScoreDesc'\r\n      this.getDataList()\r\n    },\r\n    changeStorage(){\r\n      if(this.order===''){\r\n        this.$message.error(\"请选择排序方式！\")\r\n        return\r\n      }\r\n      if(this.orderKey===''){\r\n        this.$message.error(\"请选择排序指标！\")\r\n        return;\r\n      }\r\n      this.mode=this.orderKey+this.order\r\n      this.getDataList()\r\n    },\r\n    searchBadReports() {\r\n      this.dataListLoading = true;\r\n      this.mid=this.$route.query.mid;\r\n      let params = {\r\n        pageIndex: this.pageIndex,\r\n        pageSize: this.pageSize,\r\n      }\r\n      this.$http({\r\n        url: `/fetchmission/getbadreports?mid=${this.mid}`,\r\n        method: \"get\",\r\n        params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          console.log(this.dataList);\r\n          for(let i=0;i<this.dataList.length;i++){\r\n            this.dataList[i].submitTime=moment(new Date(this.dataList[i].submitTime)).format(\"YYYY-MM-DD hh:mm:ss\")\r\n          }\r\n          console.log(this.dataList);\r\n          this.total = data.total;\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      this.mid=this.$route.query.mid;\r\n      let params = {\r\n        pageIndex: this.pageIndex,\r\n        pageSize: this.pageSize,\r\n        mode: this.mode\r\n      }\r\n      console.log(params)\r\n      this.$http({\r\n        url: `/fetchmission/searchreportsbymid?mid=${this.mid}`,\r\n        method: \"get\",\r\n        params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          for(let i=0;i<this.dataList.length;i++){\r\n            this.dataList[i].submitTime=moment(new Date(this.dataList[i].submitTime)).format(\"YYYY-MM-DD hh:mm:ss\")\r\n          }\r\n          console.log(this.dataList);\r\n          this.total = data.total;\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 多选\r\n    selectionChangeHandler(val) {\r\n      this.dataListSelections = val;\r\n    },\r\n    // 详情\r\n    watchReport(fid,mid){\r\n      console.log(fid)\r\n      this.$router.push({\r\n        path:'/report/detail',\r\n        query:{\r\n          fid:fid,\r\n          mid:mid\r\n        }\r\n      })\r\n    },\r\n    cooperationReport(fid){\r\n      this.$router.push({\r\n        path:'/report/edit',\r\n        query:{\r\n          fid:fid,\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}