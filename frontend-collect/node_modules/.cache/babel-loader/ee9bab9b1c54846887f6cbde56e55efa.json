{"remainingRequest":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\register.vue","mtime":1648202568388},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\babel.config.js","mtime":1648202514567},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHt9LAogICAgICB1c2VyVHlwZTogIiIsCiAgICAgIHJ1bGVzOiB7fQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdXNlclR5cGUgPSB0aGlzLiRzdG9yYWdlLmdldCgidXNlclR5cGUiKTsKICAgIHRoaXMudXNlclR5cGUgPSB1c2VyVHlwZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICBwYXRoOiAiL2xvZ2luIgogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfSwKICAgIC8vIOazqOWGjAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnJ1bGVGb3JtLm5pY2tuYW1lKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU2NjM1XHU3OUYwXHU0RTBEXHU4MEZEXHU0RTNBXHU3QTdBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMucnVsZUZvcm0udXNlcm5hbWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJcdTc1MjhcdTYyMzdcdTU0MERcdTRFMERcdTgwRkRcdTRFM0FcdTdBN0EiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5ydWxlRm9ybS5wYXNzd29yZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIlx1NUJDNlx1NzgwMVx1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnJ1bGVGb3JtLnBob25lTnVtYmVyKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU2MjRCXHU2NzNBXHU1M0Y3XHU0RTBEXHU4MEZEXHU0RTNBXHU3QTdBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5ydWxlRm9ybS5waG9uZU51bWJlciAmJiAhdGhpcy4kdmFsaWRhdGUuaXNNb2JpbGUodGhpcy5ydWxlRm9ybS5waG9uZU51bWJlcikpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJcdTYyNEJcdTY3M0FcdTUzRjdcdTY4M0NcdTVGMEZcdTRFMERcdTZCNjNcdTc4NkUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5ydWxlRm9ybS5lbWFpbCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIlx1OTBBRVx1N0JCMVx1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucnVsZUZvcm0uZW1haWwgJiYgIXRoaXMuJHZhbGlkYXRlLmlzRW1haWwodGhpcy5ydWxlRm9ybS5lbWFpbCkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJcdTkwQUVcdTdCQjFcdTY4M0NcdTVGMEZcdTRFMERcdTZCNjNcdTc4NkUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICgiZW1wbG95ZXIiID09IHRoaXMudXNlclR5cGUgJiYgIXRoaXMucnVsZUZvcm0uY29tcGFueU5hbWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJcdTRGMDFcdTRFMUFcdTU0MERcdTRFMERcdTgwRkRcdTRFM0FcdTdBN0EiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHJlZnNbInJ1bGVGb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpcy4kaHR0cCh7CiAgICAgICAgICAgIHVybDogIi91c2VyL3JlZ2lzdGVyP3VzZXJUeXBlPSIuY29uY2F0KF90aGlzLnVzZXJUeXBlKSwKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIGRhdGE6IF90aGlzLnJ1bGVGb3JtCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgIHBhdGg6ICIvbG9naW4iCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACAA,MADA,kBACA;AACA;AACAC,kBADA;AAGAC,kBAHA;AAIAC;AAJA;AAMA,GARA;AASAC,SATA,qBASA;AACA;AACA;AACA,GAZA;AAaAC;AACAC,QADA,kBACA;AACA;AAAAC;AAAA;AACA;AACA,KAJA;AAKA;AACAC,SANA,mBAMA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACAC,kEADA;AAEAC,0BAFA;AAGAV;AAHA,aAIAW,IAJA,CAIA;AAAA;;AACA;AACA;AAAAJ;AAAA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAVA;AAWA;AACA,OAdA;AAeA;AAtDA;AAbA","names":["data","ruleForm","userType","rules","mounted","methods","back","path","login","url","method","then"],"sourceRoot":"src/views","sources":["register.vue"],"sourcesContent":["<template>\r\n  <el-container>\r\n    <img class=\"bg\" src=\"@/assets/img/background.jpg\">\r\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" class=\"login-form\">\r\n      <h1 class=\"h1\" v-if=\"userType=='employer'\">发包方注册</h1>\r\n      <h1 class=\"h1\" v-if=\"userType=='employee'\">众包工人注册</h1>\r\n      <el-form-item  label=\"昵称\" prop=\"nickname\">\r\n        <el-input v-model=\"ruleForm.nickname\" placeholder=\"昵称\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item  label=\"用户名\" prop=\"username\">\r\n        <el-input v-model=\"ruleForm.username\" placeholder=\"用户名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item  label=\"密码\" prop=\"password\">\r\n        <el-input v-model=\"ruleForm.password\" placeholder=\"密码\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item  label=\"手机号\" prop=\"phoneNumber\">\r\n        <el-input v-model=\"ruleForm.phoneNumber\" placeholder=\"手机号\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item  label=\"邮箱\" prop=\"email\">\r\n        <el-input v-model=\"ruleForm.email\" placeholder=\"邮箱\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item v-if=\"userType=='employer'\" label=\"企业名称\" prop=\"companyName\">\r\n        <el-input v-model=\"ruleForm.companyName\" placeholder=\"企业名称\"></el-input>\r\n      </el-form-item>\r\n      <el-button @click=\"login()\" class=\"btn-login\" type=\"primary\">注册</el-button>\r\n      <el-button type=\"text\" @click=back()>返回</el-button>\r\n    </el-form>\r\n  </el-container>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      ruleForm: {\r\n              },\r\n      userType:\"\",\r\n      rules: {}\r\n    };\r\n  },\r\n  mounted(){\r\n    let userType = this.$storage.get(\"userType\");\r\n    this.userType = userType;\r\n  },\r\n  methods: {\r\n    back(){\r\n      this.$router.replace({ path: \"/login\" });\r\n      return\r\n    },\r\n    // 注册\r\n    login() {\r\n      if((!this.ruleForm.nickname)){\r\n        this.$message.error(`昵称不能为空`);\r\n        return\r\n      }\r\n      if((!this.ruleForm.username)){\r\n        this.$message.error(`用户名不能为空`);\r\n        return\r\n      }\r\n      if((!this.ruleForm.password)){\r\n        this.$message.error(`密码不能为空`);\r\n        return\r\n      }\r\n      if((!this.ruleForm.phoneNumber)){\r\n        this.$message.error(`手机号不能为空`);\r\n        return\r\n      }\r\n      if(this.ruleForm.phoneNumber&&(!this.$validate.isMobile(this.ruleForm.phoneNumber))){\r\n        this.$message.error(`手机号格式不正确`);\r\n        return\r\n      }\r\n      if((!this.ruleForm.email)){\r\n        this.$message.error(`邮箱不能为空`);\r\n        return\r\n      }\r\n      if(this.ruleForm.email&&(!this.$validate.isEmail(this.ruleForm.email))){\r\n        this.$message.error(`邮箱格式不正确`);\r\n        return\r\n      }\r\n      if(`employer`==this.userType &&(!this.ruleForm.companyName)){\r\n        this.$message.error(`企业名不能为空`)\r\n        return\r\n      }\r\n      this.$refs[\"ruleForm\"].validate(valid => {\r\n        if (valid) {\r\n            this.$http({\r\n              url: `/user/register?userType=${this.userType}`,\r\n              method: \"post\",\r\n              data:this.ruleForm\r\n            }).then(({ data }) => {\r\n            if (data && data.code === 0) {\r\n              this.$router.replace({path: \"/login\"});\r\n            } else {\r\n              this.$message.error(data.msg);\r\n            }\r\n         });\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}