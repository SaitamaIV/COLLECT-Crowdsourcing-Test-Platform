{"remainingRequest":"D:\\软工三防爆\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js!D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\软工三防爆\\frontend-collect\\src\\views\\center.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\软工三防爆\\frontend-collect\\src\\views\\center.vue","mtime":1670320133536},{"path":"D:\\软工三防爆\\frontend-collect\\babel.config.js","mtime":1670320072020},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":1670320081695},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":1670320130043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8g5ZCE56eN5qCh6aqM5pa55rOVCmltcG9ydCB7IGlzRW1haWwsIGlzTW9iaWxlIH0gZnJvbSAiQC91dGlscy92YWxpZGF0ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBuaWNrbmFtZTogIiIsCiAgICAgICAgcGhvbmVOdW1iZXI6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBjb21wYW55TmFtZTogIiIsCiAgICAgICAgZGV2aWNlczogW10sCiAgICAgICAgbGFiZWxzOiBbXQogICAgICB9LAogICAgICB1c2VyVHlwZTogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHVzZXJUeXBlID0gdGhpcy4kc3RvcmFnZS5nZXQoInVzZXJUeXBlIik7CiAgICB0aGlzLnVzZXJUeXBlID0gdXNlclR5cGU7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkhhbmRsZXI6IGZ1bmN0aW9uIG9uSGFuZGxlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5ydWxlRm9ybS5uaWNrbmFtZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aYteensOS4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnJ1bGVGb3JtLnBob25lTnVtYmVyIHx8ICFpc01vYmlsZSh0aGlzLnJ1bGVGb3JtLnBob25lTnVtYmVyKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIlx1NjI0Qlx1NjczQVx1NTNGN1x1NjgzQ1x1NUYwRlx1NEUwRFx1NkI2M1x1Nzg2RSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnJ1bGVGb3JtLmVtYWlsIHx8ICFpc0VtYWlsKHRoaXMucnVsZUZvcm0uZW1haWwpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU5MEFFXHU3QkIxXHU2ODNDXHU1RjBGXHU0RTBEXHU2QjYzXHU3ODZFIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy51c2VyVHlwZSA9PSAiZW1wbG95ZXIiICYmICF0aGlzLnJ1bGVGb3JtLmNvbXBhbnlOYW1lKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU0RjAxXHU0RTFBXHU1NDBEXHU3OUYwXHU0RTBEXHU4MEZEXHU0RTNBXHU3QTdBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5ydWxlRm9ybS5sYWJlbHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YCJ5oup5Lu75Yqh5YGP5aW977yBJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5ydWxlRm9ybS5kZXZpY2VzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqea1i+ivleiuvuWkh++8gScpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2codGhpcy5ydWxlRm9ybSk7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogIi91c2VyL3VwZGF0ZXVzZXI/dWlkPSIuY29uY2F0KHRoaXMuJHN0b3JhZ2UuZ2V0KCJ1aWQiKSksCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgZGF0YTogdGhpcy5ydWxlRm9ybQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi5L+u5pS55L+h5oGv5oiQ5YqfIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHt9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AAEA;AACAA,MADA,kBACA;AACA;AACAC;AACAC,oBADA;AAEAC,uBAFA;AAGAC,iBAHA;AAIAC,uBAJA;AAKAC,mBALA;AAMAC;AANA,OADA;AASAC;AATA;AAWA,GAbA;AAcAC,SAdA,qBAcA;AACA;AACA;AACA,GAjBA;AAkBAC;AACAC,aADA,uBACA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACAC;AACA;AACAC,qEADA;AAEAC,sBAFA;AAGAd;AAHA,SAIAe,IAJA,CAIA;AAAA;;AACA;AACA;AACAC,6BADA;AAEAC,2BAFA;AAGAC,0BAHA;AAIAC,yCACA;AALA;AAOA,SARA,MAQA;AACA;AACA;AACA,OAhBA;AAiBA;AA5CA;AAlBA","names":["data","ruleForm","nickname","phoneNumber","email","companyName","devices","labels","userType","mounted","methods","onHandler","console","url","method","then","message","type","duration","onClose"],"sourceRoot":"src/views","sources":["center.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-form\r\n                class=\"detail-form-content\"\r\n                ref=\"ruleForm\"\r\n                :model=\"ruleForm\"\r\n                label-width=\"80px\"\r\n        >\r\n            <el-col :span=\"12\">\r\n                <el-form-item label=\"昵称\" prop=\"nickname\">\r\n                    <el-input v-model=\"ruleForm.nickname\"\r\n                              placeholder=\"昵称\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item label=\"手机号\" prop=\"phoneNumber\">\r\n                    <el-input v-model=\"ruleForm.phoneNumber\"\r\n                              placeholder=\"手机号\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input v-model=\"ruleForm.email\"\r\n                              placeholder=\"邮箱\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"userType=='employer'\" label=\"企业名称\" prop=\"companyName\">\r\n                    <el-input v-model=\"ruleForm.companyName\"\r\n                              placeholder=\"企业名称\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col>\r\n              <el-form-item v-if=\"userType=='employee'\" label=\"测试设备\" prop=\"devices\">\r\n                <el-checkbox-group v-model=\"ruleForm.devices\">\r\n                  <el-checkbox label=\"嵌入式设备\" name=\"type\" />\r\n                  <el-checkbox label=\"笔记本电脑\" name=\"type\" />\r\n                  <el-checkbox label=\"台式机\" name=\"type\" />\r\n                  <el-checkbox label=\"手机\" name=\"type\" />\r\n                  <el-checkbox label=\"其他设备\" name=\"type\" />\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n              <el-form-item v-if=\"userType=='employee'\" label=\"任务偏好\" prop=\"labels\">\r\n                <el-checkbox-group v-model=\"ruleForm.labels\">\r\n                  <el-checkbox label=\"蜕变测试\" name=\"type\" />\r\n                  <el-checkbox label=\"差分测试\" name=\"type\" />\r\n                  <el-checkbox label=\"模糊测试\" name=\"type\" />\r\n                  <el-checkbox label=\"压力测试\" name=\"type\" />\r\n                  <el-checkbox label=\"单元测试\" name=\"type\" />\r\n                  <el-checkbox label=\"黑盒测试\" name=\"type\" />\r\n                  <el-checkbox label=\"白盒测试\" name=\"type\" />\r\n                  <el-checkbox label=\"灰盒测试\" name=\"type\" />\r\n                  <el-checkbox label=\"变异测试\" name=\"type\" />\r\n                  <el-checkbox label=\"功能测试\" name=\"type\" />\r\n                  <el-checkbox label=\"非功能测试\" name=\"type\" />\r\n                  <el-checkbox label=\"集成测试\" name=\"type\" />\r\n                  <el-checkbox label=\"其他测试\" name=\"type\" />\r\n                  <el-checkbox label=\"动态测试\" name=\"type\" />\r\n                  <el-checkbox label=\"静态测试\" name=\"type\" />\r\n                  <el-checkbox label=\"接口测试\" name=\"type\" />\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"onHandler\">修 改</el-button>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n<script>\r\n    // 各种校验方法\r\n    import {isEmail, isMobile} from \"@/utils/validate\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                ruleForm: {\r\n                  nickname:\"\",\r\n                  phoneNumber:\"\",\r\n                  email:\"\",\r\n                  companyName:\"\",\r\n                  devices:[],\r\n                  labels:[]\r\n                },\r\n                userType:\"\"\r\n            };\r\n        },\r\n        mounted() {\r\n            var userType = this.$storage.get(\"userType\");\r\n            this.userType = userType;\r\n        },\r\n        methods: {\r\n            onHandler() {\r\n                if (!this.ruleForm.nickname) {\r\n                    this.$message.error('昵称不能为空');\r\n                    return\r\n                }\r\n                if ((!this.ruleForm.phoneNumber) || (!isMobile(this.ruleForm.phoneNumber))) {\r\n                    this.$message.error(`手机号格式不正确`);\r\n                    return\r\n                }\r\n                if ((!this.ruleForm.email) || (!isEmail(this.ruleForm.email))) {\r\n                    this.$message.error(`邮箱格式不正确`);\r\n                    return\r\n                }\r\n                if ((this.userType==\"employer\")&&!this.ruleForm.companyName){\r\n                  this.$message.error(`企业名称不能为空`)\r\n                  return;\r\n                }\r\n                if (this.ruleForm.labels.length===0) {\r\n                  this.$message.error('请选择任务偏好！');\r\n                  return\r\n                }\r\n                if (this.ruleForm.devices.length===0) {\r\n                  this.$message.error('请选择测试设备！');\r\n                  return\r\n                }\r\n                console.log(this.ruleForm);\r\n                this.$http({\r\n                    url: `/user/updateuser?uid=${this.$storage.get(\"uid\")}`,\r\n                    method: \"post\",\r\n                    data: this.ruleForm\r\n                }).then(({data}) => {\r\n                    if (data && data.code === 0) {\r\n                        this.$message({\r\n                            message: \"修改信息成功\",\r\n                            type: \"success\",\r\n                            duration: 1500,\r\n                            onClose: () => {\r\n                            }\r\n                        });\r\n                    } else {\r\n                        this.$message.error(data.msg);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}