{"remainingRequest":"D:\\软工三防爆\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js!D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\软工三防爆\\frontend-collect\\src\\views\\modules\\user\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\软工三防爆\\frontend-collect\\src\\views\\modules\\user\\list.vue","mtime":1670320133567},{"path":"D:\\软工三防爆\\frontend-collect\\babel.config.js","mtime":1670320072020},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":1670320081695},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":1670320130043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBuaWNrbmFtZTogJycsCiAgICAgICAgdXNlcm5hbWU6ICcnCiAgICAgIH0sCiAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgcGFnZUluZGV4OiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiAwLAogICAgICBkYXRhTGlzdExvYWRpbmc6IGZhbHNlLAogICAgICBkYXRhTGlzdFNlbGVjdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICB9LAogIGZpbHRlcnM6IHsKICAgIGh0bWxmaWx0ZXI6IGZ1bmN0aW9uIGh0bWxmaWx0ZXIodmFsKSB7CiAgICAgIHJldHVybiB2YWwucmVwbGFjZSgvPFtePl0qPi9nKS5yZXBsYWNlKC91bmRlZmluZWQvZywgJycpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIC8vIOiOt+WPluaVsOaNruWIl+ihqAogICAgZ2V0RGF0YUxpc3Q6IGZ1bmN0aW9uIGdldERhdGFMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kYXRhTGlzdExvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgcGFnZXBhcmFtcyA9IHsKICAgICAgICBwYWdlSW5kZXg6IHRoaXMucGFnZUluZGV4LAogICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoRm9ybS5uaWNrbmFtZSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoRm9ybS51c2VybmFtZSk7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogIi91c2VyL3NlYXJjaHVzZXJzYnluYW1lIiwKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAvL+i/meihjOazqOmHiueUqOS6juWQjue7remhteebuOWFs+S/oeaBr+OAggogICAgICAgIHBhcmFtczogcGFnZXBhcmFtcywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAibmlja25hbWUiOiB0aGlzLnNlYXJjaEZvcm0ubmlja25hbWUsCiAgICAgICAgICAidXNlcm5hbWUiOiB0aGlzLnNlYXJjaEZvcm0udXNlcm5hbWUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgX3RoaXMudG90YWwgPSBkYXRhLnRvdGFsOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZGF0YUxpc3QpOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMudG90YWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5kYXRhTGlzdCA9IFtdOwogICAgICAgICAgX3RoaXMudG90YWwgPSAwOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOavj+mhteaVsAogICAgc2l6ZUNoYW5nZUhhbmRsZTogZnVuY3Rpb24gc2l6ZUNoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g5b2T5YmN6aG1CiAgICBjdXJyZW50Q2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBjdXJyZW50Q2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VJbmRleCA9IHZhbDsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIC8vIOWkmumAiQogICAgc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcih2YWwpIHsKICAgICAgdGhpcy5kYXRhTGlzdFNlbGVjdGlvbnMgPSB2YWw7CiAgICB9LAogICAgLy8g5re75YqgL+S/ruaUuQogICAgYWRkT3JVcGRhdGVIYW5kbGVyOiBmdW5jdGlvbiBhZGRPclVwZGF0ZUhhbmRsZXIoaWQsIHR5cGUpIHsKICAgICAgY29uc29sZS5sb2coaWQpOwogICAgICBjb25zb2xlLmxvZyh0eXBlKTsgLy90eXBl5Li6ZGV0YWls5Luj6KGo6K+m5oOF77yMdHlwZeS4umVkaXTku6Pooajkv67mlLnjgIIKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3VzZXIvZGV0YWlsJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgdHlwZTogdHlwZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiL6L29CiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoZmlsZSkgewogICAgICB3aW5kb3cub3BlbigiIi5jb25jYXQoZmlsZSkpOwogICAgfSwKICAgIC8vIOWIoOmZpAogICAgZGVsZXRlSGFuZGxlcjogZnVuY3Rpb24gZGVsZXRlSGFuZGxlcihpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBpZHMgPSBpZCA/IFtOdW1iZXIoaWQpXSA6IHRoaXMuZGF0YUxpc3RTZWxlY3Rpb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBOdW1iZXIoaXRlbS5pZCk7CiAgICAgIH0pOwogICAgICB0aGlzLiRjb25maXJtKCJcdTc4NkVcdTVCOUFcdThGREJcdTg4NENcdTUyMjBcdTk2NjRcdTY0Q0RcdTRGNUM/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kaHR0cCh7CiAgICAgICAgICB1cmw6ICIvdXNlci9yZW1vdmV1c2VyP3VpZD0iLmNvbmNhdChpZCksCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiAvL+WFiOWPquWunueOsOS4gOS4queUqOaIt+eahOafpeaJvuOAggogICAgICAgICAgLy8gIGRhdGE6IGlkcwoKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip8iLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICAgICAgICAgICAgX3RoaXMyLnNlYXJjaCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACAA,MADA,kBACA;AACA;AACAC;AACAC,oBADA;AAEAC;AAFA,OADA;AAKAC,kBALA;AAMAC,kBANA;AAOAC,kBAPA;AAQAC,cARA;AASAC,4BATA;AAUAC;AAVA;AAYA,GAdA;AAeAC,SAfA,qBAeA;AACA;AACA,GAjBA;AAkBAC;AACAC;AACA;AACA;AAHA,GAlBA;AAuBAC;AACAC,UADA,oBACA;AACA;AACA;AACA,KAJA;AAKA;AACAC,eANA,yBAMA;AAAA;;AACA;AACA;AACAV,iCADA;AAEAC;AAFA;AAIAU;AACAA;AACA;AACAC,sCADA;AAEAC,sBAFA;AAGA;AACAC,0BAJA;AAKAnB;AACA,8CADA;AAEA;AAFA;AALA,SAUAoB,IAVA,CAUA;AAAA;;AACA;AACA;AACA;AACAJ;AACAA;AACA,SALA,MAKA;AACA;AACA;AACA;;AACA;AACA,OArBA;AAsBA,KApCA;AAqCA;AACAK,oBAtCA,4BAsCAC,GAtCA,EAsCA;AACA;AACA;AACA;AACA,KA1CA;AA2CA;AACAC,uBA5CA,+BA4CAD,GA5CA,EA4CA;AACA;AACA;AACA,KA/CA;AAgDA;AACAE,0BAjDA,kCAiDAF,GAjDA,EAiDA;AACA;AACA,KAnDA;AAoDA;AACAG,sBArDA,8BAqDAC,EArDA,EAqDAC,IArDA,EAqDA;AACAX;AACAA,wBAFA,CAGA;;AACA;AACAY,4BADA;AAEAC;AACAH,gBADA;AAEAC;AAFA;AAFA;AAOA,KAhEA;AAiEA;AACAG,YAlEA,oBAkEAC,IAlEA,EAkEA;AACAC;AACA,KApEA;AAqEA;AACAC,iBAtEA,yBAsEAP,EAtEA,EAsEA;AAAA;;AACA,qBACA,YADA,GAEA;AACA;AACA,OAFA,CAFA;AAKA;AACAQ,+BADA;AAEAC,8BAFA;AAGAR;AAHA,SAIAP,IAJA,CAIA;AACA;AACAH,iDADA;AAEAC,wBAFA,CAGA;AACA;;AAJA,WAKAE,IALA,CAKA;AAAA;;AACA;AACA;AACAgB,6BADA;AAEAT,6BAFA;AAGAU,4BAHA;AAIAC;AACA;AACA;AANA;AAQA,WATA,MASA;AACA;AACA;AACA,SAlBA;AAmBA,OAxBA;AAyBA;AArGA;AAvBA","names":["data","searchForm","nickname","username","dataList","pageIndex","pageSize","total","dataListLoading","dataListSelections","mounted","filters","htmlfilter","methods","search","getDataList","console","url","method","params","then","sizeChangeHandle","val","currentChangeHandle","selectionChangeHandler","addOrUpdateHandler","id","type","path","query","download","file","window","deleteHandler","confirmButtonText","cancelButtonText","message","duration","onClose"],"sourceRoot":"src/views/modules/user","sources":["list.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div>\r\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"form-content\">\r\n        <el-form-item label=\"昵称\">\r\n          <el-input v-model=\"searchForm.nickname\"\r\n                    placeholder=\"昵称\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\">\r\n          <el-input v-model=\"searchForm.username\"\r\n                    placeholder=\"姓名\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button round @click=\"search()\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"table-content\">\r\n        <el-table\r\n            :data=\"dataList\"\r\n            border\r\n            v-loading=\"dataListLoading\"\r\n            @selection-change=\"selectionChangeHandler\"\r\n            style=\"width: 100%;\">\r\n          <el-table-column\r\n              type=\"selection\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              width=\"50\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"nickname\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"昵称\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.nickname}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"username\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"用户名\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.username}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"phoneNumber\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"手机号\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.phoneNumber}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"email\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"邮箱\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.email}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"addOrUpdateHandler(scope.row.uid,'detail')\">详情\r\n              </el-button>\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"addOrUpdateHandler(scope.row.uid,'edit')\">修改\r\n              </el-button>\r\n              <el-button type=\"text\" icon=\"el-icon-delete\" size=\"small\"\r\n                         @click=\"deleteHandler(scope.row.uid)\">删除\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            @size-change=\"sizeChangeHandle\"\r\n            @current-change=\"currentChangeHandle\"\r\n            :current-page=\"pageIndex\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pageSize\"\r\n            :total=\"total\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            class=\"pagination-content\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        nickname: '',\r\n        username: ''\r\n      },\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      dataListLoading: false,\r\n      dataListSelections: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getDataList();\r\n  },\r\n  filters: {\r\n    htmlfilter: function (val) {\r\n      return val.replace(/<[^>]*>/g).replace(/undefined/g, '');\r\n    }\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      let pageparams = {\r\n        pageIndex: this.pageIndex,\r\n        pageSize: this.pageSize,\r\n      }\r\n      console.log(this.searchForm.nickname);\r\n      console.log(this.searchForm.username);\r\n      this.$http({\r\n        url: \"/user/searchusersbyname\",\r\n        method: \"post\",\r\n        //这行注释用于后续页相关信息。\r\n        params:pageparams,\r\n        data: {\r\n          \"nickname\":this.searchForm.nickname,\r\n          \"username\":this.searchForm.username\r\n        }\r\n\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          this.total = data.total;\r\n          console.log(this.dataList)\r\n          console.log(this.total)\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 多选\r\n    selectionChangeHandler(val) {\r\n      this.dataListSelections = val;\r\n    },\r\n    // 添加/修改\r\n    addOrUpdateHandler(id, type) {\r\n      console.log(id);\r\n      console.log(type);\r\n      //type为detail代表详情，type为edit代表修改。\r\n      this.$router.push({\r\n        path:'/user/detail',\r\n        query:{\r\n          id:id,\r\n          type:type\r\n        }\r\n      })\r\n    },\r\n    // 下载\r\n    download(file) {\r\n      window.open(`${file}`)\r\n    },\r\n    // 删除\r\n    deleteHandler(id) {\r\n      var ids = id\r\n          ? [Number(id)]\r\n          : this.dataListSelections.map(item => {\r\n            return Number(item.id);\r\n          });\r\n      this.$confirm(`确定进行删除操作?`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http({\r\n          url: `/user/removeuser?uid=${id}`,\r\n          method: \"post\",\r\n          //先只实现一个用户的查找。\r\n          //  data: ids\r\n        }).then(({data}) => {\r\n          if (data && data.code === 0) {\r\n            this.$message({\r\n              message: \"操作成功\",\r\n              type: \"success\",\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.search();\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}