{"remainingRequest":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\modules\\report\\similarList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\modules\\report\\similarList.vue","mtime":1653408202514},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\babel.config.js","mtime":1653401012640},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653401020224},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":1653401017578},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653401020224},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":1653401043277}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoRm9ybTogewogICAgICAgIGtleTogIiIKICAgICAgfSwKICAgICAgZmlkOiAnJywKICAgICAgbWlkOiAwLAogICAgICBkYXRhTGlzdDogW10sCiAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgZGF0YUxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0YUxpc3RTZWxlY3Rpb25zOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvL+aPkOS6pOeahOaKpeWRiueahGZpZAogICAgdGhpcy5maWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5maWQ7CiAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBodG1sZmlsdGVyOiBmdW5jdGlvbiBodG1sZmlsdGVyKHZhbCkgewogICAgICByZXR1cm4gdmFsLnJlcGxhY2UoLzxbXj5dKj4vZykucmVwbGFjZSgvdW5kZWZpbmVkL2csICcnKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kYXRhTGlzdExvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHBhZ2VJbmRleDogdGhpcy5wYWdlSW5kZXgsCiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgfTsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiAiL2ZldGNobWlzc2lvbi9nZXRiYWRyZXBvcnRzP21pZD0iLmNvbmNhdCh0aGlzLm1pZCksCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICBfdGhpcy5kYXRhTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmRhdGFMaXN0KTsKICAgICAgICAgIF90aGlzLnRvdGFsID0gZGF0YS50b3RhbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZGF0YUxpc3QgPSBbXTsKICAgICAgICAgIF90aGlzLnRvdGFsID0gMDsKICAgICAgICB9CgogICAgICAgIF90aGlzLmRhdGFMaXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bmlbDmja7liJfooagKICAgIGdldERhdGFMaXN0OiBmdW5jdGlvbiBnZXREYXRhTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmRhdGFMaXN0TG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcGFnZUluZGV4OiB0aGlzLnBhZ2VJbmRleCwKICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZQogICAgICB9OwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6ICIvZmV0Y2htaXNzaW9uL2dldHNpbWlsYXJyZXBvcnRzP2ZpZD0iLmNvbmNhdCh0aGlzLmZpZCksCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIF90aGlzMi5kYXRhTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5kYXRhTGlzdCk7CiAgICAgICAgICBfdGhpczIudG90YWwgPSBkYXRhLnRvdGFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuZGF0YUxpc3QgPSBbXTsKICAgICAgICAgIF90aGlzMi50b3RhbCA9IDA7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOavj+mhteaVsAogICAgc2l6ZUNoYW5nZUhhbmRsZTogZnVuY3Rpb24gc2l6ZUNoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g5b2T5YmN6aG1CiAgICBjdXJyZW50Q2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBjdXJyZW50Q2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VJbmRleCA9IHZhbDsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIC8vIOWkmumAiQogICAgc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcih2YWwpIHsKICAgICAgdGhpcy5kYXRhTGlzdFNlbGVjdGlvbnMgPSB2YWw7CiAgICB9LAogICAgYmFjazogZnVuY3Rpb24gYmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcmVwb3J0JywKICAgICAgICBxdWVyeTogewogICAgICAgICAgIm1pZCI6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6K+m5oOFCiAgICB3YXRjaFJlcG9ydDogZnVuY3Rpb24gd2F0Y2hSZXBvcnQobWlkLCB1aWQpIHsKICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoIndoaWNoVG9SZXBvcnREZXRhaWwiLCAic2ltaWxhclJlcG9ydExpc3QiKTsKICAgICAgY29uc29sZS5sb2cobWlkKTsKICAgICAgY29uc29sZS5sb2codWlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcmVwb3J0L2RldGFpbCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIC8v6L+Z5Liq5piv5Yia5o+Q5Lqk55qE5oql5ZGK55qEZmlkCiAgICAgICAgICBmaWQ6IHRoaXMuZmlkLAogICAgICAgICAgbWlkOiBtaWQsCiAgICAgICAgICB1aWQ6IHVpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY29vcGVyYXRpb25SZXBvcnQ6IGZ1bmN0aW9uIGNvb3BlcmF0aW9uUmVwb3J0KGZpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9yZXBvcnQvZWRpdCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGZpZDogZmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACAA,MADA,kBACA;AACA;AACAC;AACAC;AADA,OADA;AAIAC,aAJA;AAKAC,YALA;AAMAC,kBANA;AAOAC,kBAPA;AAQAC,kBARA;AASAC,cATA;AAUAC,4BAVA;AAWAC;AAXA;AAaA,GAfA;AAgBAC,SAhBA,qBAgBA;AACA;AACA;AACA;AACA,GApBA;AAqBAC;AACAC;AACA;AACA;AAHA,GArBA;AA0BAC;AACAC,UADA,oBACA;AAAA;;AACA;AACA;AACAT,iCADA;AAEAC;AAFA;AAIA;AACAS,gEADA;AAEAC,qBAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AAAA;;AACA;AACA;AACAC;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;;AACA;AACA,OAdA;AAeA,KAtBA;AAuBA;AACAC,eAxBA,yBAwBA;AAAA;;AACA;AACA;AACAf,iCADA;AAEAC;AAFA;AAIA;AACAS,oEADA;AAEAC,qBAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AAAA;;AACA;AACA;AACAC;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;;AACA;AACA,OAdA;AAeA,KA7CA;AA8CA;AACAE,oBA/CA,4BA+CAC,GA/CA,EA+CA;AACA;AACA;AACA;AACA,KAnDA;AAoDA;AACAC,uBArDA,+BAqDAD,GArDA,EAqDA;AACA;AACA;AACA,KAxDA;AAyDA;AACAE,0BA1DA,kCA0DAF,GA1DA,EA0DA;AACA;AACA,KA5DA;AA6DAG,QA7DA,kBA6DA;AACA;AACAC,uBADA;AAEAC;AACA;AADA;AAFA;AAMA,KApEA;AAqEA;AACAC,eAtEA,uBAsEAzB,GAtEA,EAsEA0B,GAtEA,EAsEA;AACA;AACAV;AACAA;AACA;AACAO,8BADA;AAEAC;AACA;AACAzB,uBAFA;AAGAC,kBAHA;AAIA0B;AAJA;AAFA;AASA,KAnFA;AAoFAC,qBApFA,6BAoFA5B,GApFA,EAoFA;AACA;AACAwB,4BADA;AAEAC;AACAzB;AADA;AAFA;AAMA;AA3FA;AA1BA","names":["data","searchForm","key","fid","mid","dataList","pageIndex","pageSize","total","dataListLoading","dataListSelections","mounted","filters","htmlfilter","methods","search","url","method","params","then","console","getDataList","sizeChangeHandle","val","currentChangeHandle","selectionChangeHandler","back","path","query","watchReport","uid","cooperationReport"],"sourceRoot":"src/views/modules/report","sources":["similarList.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div>\r\n      <div class=\"table-content\">\r\n        <el-form>\r\n          <el-form-item>\r\n            <p>以下是与您的报告最相似的报告，您可以选择是否协作哦~</p>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-table\r\n            :data=\"dataList\"\r\n            border\r\n            v-loading=\"dataListLoading\"\r\n            @selection-change=\"selectionChangeHandler\"\r\n            style=\"width: 100%;\">\r\n          <el-table-column\r\n              type=\"selection\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              width=\"50\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"title\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"报告主题\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.title}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"bugDescription\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"漏洞描述信息\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.bugDescription}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"isBad\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"是否为低质量报告\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.isBad}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"watchReport(scope.row.mid,scope.row.uid)\">详情\r\n              </el-button>\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"cooperationReport(scope.row.fid)\">协作\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            @size-change=\"sizeChangeHandle\"\r\n            @current-change=\"currentChangeHandle\"\r\n            :current-page=\"pageIndex\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pageSize\"\r\n            :total=\"total\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            class=\"pagination-content\"\r\n        ></el-pagination>\r\n        <el-button style=\"margin-left: 1em\" @click=\"back()\">返回</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        key: \"\"\r\n      },\r\n      fid:'',\r\n      mid:0,\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      dataListLoading: false,\r\n      dataListSelections: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    //提交的报告的fid\r\n    this.fid=this.$route.query.fid\r\n    this.getDataList();\r\n  },\r\n  filters: {\r\n    htmlfilter: function (val) {\r\n      return val.replace(/<[^>]*>/g).replace(/undefined/g, '');\r\n    }\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.dataListLoading = true;\r\n      let params = {\r\n        pageIndex: this.pageIndex,\r\n        pageSize: this.pageSize,\r\n      }\r\n      this.$http({\r\n        url: `/fetchmission/getbadreports?mid=${this.mid}`,\r\n        method: \"get\",\r\n        params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          console.log(this.dataList);\r\n          this.total = data.total;\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      let params = {\r\n        pageIndex: this.pageIndex,\r\n        pageSize: this.pageSize,\r\n      }\r\n      this.$http({\r\n        url: `/fetchmission/getsimilarreports?fid=${this.fid}`,\r\n        method: \"get\",\r\n        params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          console.log(this.dataList);\r\n          this.total = data.total;\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 多选\r\n    selectionChangeHandler(val) {\r\n      this.dataListSelections = val;\r\n    },\r\n    back(){\r\n      this.$router.push({\r\n        path:'/report',\r\n        query:{\r\n          \"mid\":this.$route.query.mid,\r\n        }\r\n      })\r\n    },\r\n    // 详情\r\n    watchReport(mid,uid){\r\n      this.$storage.set(\"whichToReportDetail\", \"similarReportList\");\r\n      console.log(mid);\r\n      console.log(uid);\r\n      this.$router.push({\r\n        path:'/report/detail',\r\n        query:{\r\n          //这个是刚提交的报告的fid\r\n          fid:this.fid,\r\n          mid:mid,\r\n          uid:uid,\r\n        }\r\n      })\r\n    },\r\n    cooperationReport(fid){\r\n      this.$router.push({\r\n        path:'/report/edit',\r\n        query:{\r\n          fid:fid,\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}