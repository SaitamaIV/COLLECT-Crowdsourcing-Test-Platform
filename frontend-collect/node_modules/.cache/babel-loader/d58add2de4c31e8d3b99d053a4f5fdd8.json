{"remainingRequest":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\modules\\mission\\myList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\src\\views\\modules\\mission\\myList.vue","mtime":1648202568380},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\babel.config.js","mtime":1648202514567},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\picturesque\\Desktop\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hGb3JtOiB7CiAgICAgICAga2V5OiAiIgogICAgICB9LAogICAgICBkYXRhTGlzdDogW10sCiAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgZGF0YUxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0YUxpc3RTZWxlY3Rpb25zOiBbXSwKICAgICAgdXNlclR5cGU6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXNlclR5cGUgPSB0aGlzLiRzdG9yYWdlLmdldCgidXNlclR5cGUiKTsKICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICB9LAogIGZpbHRlcnM6IHsKICAgIGh0bWxmaWx0ZXI6IGZ1bmN0aW9uIGh0bWxmaWx0ZXIodmFsKSB7CiAgICAgIHJldHVybiB2YWwucmVwbGFjZSgvPFtePl0qPi9nKS5yZXBsYWNlKC91bmRlZmluZWQvZywgJycpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIC8vIOiOt+WPluaVsOaNruWIl+ihqAogICAgZ2V0RGF0YUxpc3Q6IGZ1bmN0aW9uIGdldERhdGFMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kYXRhTGlzdExvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHBhZ2VJbmRleDogdGhpcy5wYWdlSW5kZXgsCiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0ubmFtZSAhPSAnJyAmJiB0aGlzLnNlYXJjaEZvcm0ubmFtZSAhPSB1bmRlZmluZWQpIHsKICAgICAgICBwYXJhbXNbJ25hbWUnXSA9ICclJyArIHRoaXMuc2VhcmNoRm9ybS5uYW1lICsgJyUnOwogICAgICB9CgogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtLmRlc2NyaXB0aW9uICE9ICcnICYmIHRoaXMuc2VhcmNoRm9ybS5kZXNjaXB0aW9uICE9IHVuZGVmaW5lZCkgewogICAgICAgIHBhcmFtc1snZGVzY3JpcHRpb24nXSA9ICclJyArIHRoaXMuc2VhcmNoRm9ybS5kZXNjaXB0aW9uICsgJyUnOwogICAgICB9CgogICAgICBpZiAodGhpcy51c2VyVHlwZSA9PSAnZW1wbG95ZXInKSB7CiAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICB1cmw6ICIvbWlzc2lvbi9zZW5kZXJzZWFyY2htaXNzaW9uc2J5dWlkP3VpZD0iLmNvbmNhdCh0aGlzLiRzdG9yYWdlLmdldCgidWlkIikpLAogICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgIC8v5rOo77ya6L+t5Luj5LiA5YWI5LiN5YiG6aG177yM5oqK5LiL6Z2i55qE5rOo6YeK5o6J5Y2z5Y+v44CCCiAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgICBfdGhpcy50b3RhbCA9IGRhdGEudG90YWw7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmRhdGFMaXN0KTsKICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMudG90YWwpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuZGF0YUxpc3QgPSBbXTsKICAgICAgICAgICAgX3RoaXMudG90YWwgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLmRhdGFMaXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy51c2VyVHlwZSA9PSAnZW1wbG95ZWUnKSB7CiAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICB1cmw6ICIvbWlzc2lvbi93b3JrZXJzZWFyY2htaXNzaW9uc2J5dWlkP3VpZD0iLmNvbmNhdCh0aGlzLiRzdG9yYWdlLmdldCgndWlkJykpLAogICAgICAgICAgbWV0aG9kOiAiZ2V0IiAvL+azqO+8mui/reS7o+S4gOWFiOS4jeWIhumhte+8jOaKiuS4i+mdoueahOazqOmHiuaOieWNs+WPr+OAggogICAgICAgICAgLy9wYXJhbXM6IHBhcmFtcwoKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgICBfdGhpcy50b3RhbCA9IGRhdGEudG90YWw7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmRhdGFMaXN0KTsKICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMudG90YWwpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuZGF0YUxpc3QgPSBbXTsKICAgICAgICAgICAgX3RoaXMudG90YWwgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLmRhdGFMaXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g5q+P6aG15pWwCiAgICBzaXplQ2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnBhZ2VJbmRleCA9IDE7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICAvLyDlvZPliY3pobUKICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGU6IGZ1bmN0aW9uIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gdmFsOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g5aSa6YCJCiAgICBzZWxlY3Rpb25DaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2VIYW5kbGVyKHZhbCkgewogICAgICB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucyA9IHZhbDsKICAgIH0sCiAgICAvLyDmt7vliqAv5L+u5pS5CiAgICB3YXRjaE1pc3Npb246IGZ1bmN0aW9uIHdhdGNoTWlzc2lvbihtaWQpIHsKICAgICAgLy8gY29uc29sZS5sb2cobWlkKTsKICAgICAgLy8gY29uc29sZS5sb2codHlwZSk7CiAgICAgIC8vdHlwZeS4umRldGFpbOS7o+ihqOivpuaDhe+8jHR5cGXkuLplZGl05Luj6KGo5L+u5pS544CCCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL21pc3Npb24vZGV0YWlsJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgbWlkOiBtaWQsCiAgICAgICAgICBpc015bGlzdDogInRydWUiCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRSZXBvcnQ6IGZ1bmN0aW9uIHN1Ym1pdFJlcG9ydChtaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcmVwb3J0L2VkaXQnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBtaWQ6IG1pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiL6L29CiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoZmlsZSkgewogICAgICB3aW5kb3cub3BlbigiIi5jb25jYXQoZmlsZSkpOwogICAgfSwKICAgIC8vIOaUvuW8g+S7u+WKoQogICAgZ2l2ZVVwTWlzc2lvbjogZnVuY3Rpb24gZ2l2ZVVwTWlzc2lvbihpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBpZHMgPSBpZCA/IFtOdW1iZXIoaWQpXSA6IHRoaXMuZGF0YUxpc3RTZWxlY3Rpb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBOdW1iZXIoaXRlbS5pZCk7CiAgICAgIH0pOwogICAgICB0aGlzLiRjb25maXJtKCJcdTc4NkVcdThCQTRcdTY1M0VcdTVGMDNcdTRFRkJcdTUyQTE/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuaui+W/jeemu+W8gCIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIueul+S6huWQpyIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kaHR0cCh7CiAgICAgICAgICB1cmw6ICIvZmV0Y2htaXNzaW9uL2dpdmV1cG1pc3Npb24/dWlkPSIuY29uY2F0KF90aGlzMi4kc3RvcmFnZS5nZXQoJ3VpZCcpLCAiJm1pZD0iKS5jb25jYXQoaWQpLAogICAgICAgICAgbWV0aG9kOiAicG9zdCIgLy/lhYjlj6rlrp7njrDkuIDkuKrnlKjmiLfnmoTmn6Xmib7jgIIKICAgICAgICAgIC8vICBkYXRhOiBpZHMKCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjMuZGF0YTsKCiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfIiwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsCiAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgICAgICAgICAgIF90aGlzMi5zZWFyY2goKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACAA,MADA,kBACA;AACA;AACAC;AACAC;AADA,OADA;AAIAC,kBAJA;AAKAC,kBALA;AAMAC,kBANA;AAOAC,cAPA;AAQAC,4BARA;AASAC,4BATA;AAUAC;AAVA;AAYA,GAdA;AAeAC,SAfA,qBAeA;AACA;AACA;AACA,GAlBA;AAmBAC;AACAC;AACA;AACA;AAHA,GAnBA;AAwBAC;AACAC,UADA,oBACA;AACA;AACA;AACA,KAJA;AAKA;AACAC,eANA,yBAMA;AAAA;;AACA;AACA;AACAX,iCADA;AAEAC;AAFA;;AAIA;AACAW;AACA;;AACA;AACAA;AACA;;AACA,uCACA;AACA;AACAC,yFADA;AAEAC,uBAFA;AAGA;AACAF;AAJA,WAKAG,IALA,CAKA;AAAA;;AACA;AACA;AACA;AACAC;AACAA;AACA,WALA,MAKA;AACA;AACA;AACA;;AACA;AACA,SAhBA;AAgBA;;AACA,uCACA;AAAA;AACAH,yFADA;AAEAC,uBAFA,CAGA;AACA;;AAJA,WAKAC,IALA,CAKA;AAAA;;AACA;AACA;AACA;AACAC;AACAA;AACA,WALA,MAKA;AACA;AACA;AACA;;AACA;AACA,SAhBA;AAgBA;AACA,KAvDA;AAwDA;AACAC,oBAzDA,4BAyDAC,GAzDA,EAyDA;AACA;AACA;AACA;AACA,KA7DA;AA8DA;AACAC,uBA/DA,+BA+DAD,GA/DA,EA+DA;AACA;AACA;AACA,KAlEA;AAmEA;AACAE,0BApEA,kCAoEAF,GApEA,EAoEA;AACA;AACA,KAtEA;AAuEA;AACAG,gBAxEA,wBAwEAC,GAxEA,EAwEA;AACA;AACA;AACA;AACA;AACAC,+BADA;AAEAC;AACAF,kBADA;AAEAG;AAFA;AAFA;AAOA,KAnFA;AAoFAC,gBApFA,wBAoFAJ,GApFA,EAoFA;AACA;AACAC,4BADA;AAEAC;AACAF;AADA;AAFA;AAMA,KA3FA;AA4FA;AACAK,YA7FA,oBA6FAC,IA7FA,EA6FA;AACAC;AACA,KA/FA;AAgGA;AACAC,iBAjGA,yBAiGAC,EAjGA,EAiGA;AAAA;;AACA,qBACA,YADA,GAEA;AACA;AACA,OAFA,CAFA;AAKA;AACAC,iCADA;AAEAC,+BAFA;AAGAC;AAHA,SAIAnB,IAJA,CAIA;AACA;AACAF,wGADA;AAEAC,wBAFA,CAGA;AACA;;AAJA,WAKAC,IALA,CAKA;AAAA;;AACA;AACA;AACAoB,6BADA;AAEAD,6BAFA;AAGAE,4BAHA;AAIAC;AACA;AACA;AANA;AAQA,WATA,MASA;AACA;AACA;AACA,SAlBA;AAmBA,OAxBA;AAyBA;AAhIA;AAxBA","names":["data","searchForm","key","dataList","pageIndex","pageSize","total","dataListLoading","dataListSelections","userType","mounted","filters","htmlfilter","methods","search","getDataList","params","url","method","then","console","sizeChangeHandle","val","currentChangeHandle","selectionChangeHandler","watchMission","mid","path","query","isMylist","submitReport","download","file","window","giveUpMission","id","confirmButtonText","cancelButtonText","type","message","duration","onClose"],"sourceRoot":"src/views/modules/mission","sources":["myList.vue"],"sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div>\r\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"form-content\">\r\n        <el-form-item label=\"任务名称\">\r\n          <el-input v-model=\"searchForm.name\"\r\n                    placeholder=\"任务名称\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述信息\">\r\n          <el-input v-model=\"searchForm.description\"\r\n                    placeholder=\"描述信息\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button round @click=\"search()\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"table-content\">\r\n        <el-table\r\n            :data=\"dataList\"\r\n            border\r\n            v-loading=\"dataListLoading\"\r\n            @selection-change=\"selectionChangeHandler\"\r\n            style=\"width: 100%;\">\r\n          <el-table-column\r\n              type=\"selection\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              width=\"50\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"name\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"任务名称\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.name}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"description\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"描述信息\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.description}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"missionType\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"任务类型\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.missionType}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"workerNum\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"最大人数\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.workerNum}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"watchMission(scope.row.mid)\">详情\r\n              </el-button>\r\n              <el-button v-if=\"userType=='employee'\" type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"giveUpMission(scope.row.mid)\">放弃任务\r\n              </el-button>\r\n              <el-button v-if=\"userType=='employee'\" type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"submitReport(scope.row.mid)\">提交测试报告\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            @size-change=\"sizeChangeHandle\"\r\n            @current-change=\"currentChangeHandle\"\r\n            :current-page=\"pageIndex\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pageSize\"\r\n            :total=\"total\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            class=\"pagination-content\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        key: \"\"\r\n      },\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      dataListLoading: false,\r\n      dataListSelections: [],\r\n      userType:''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.userType=this.$storage.get(\"userType\");\r\n    this.getDataList();\r\n  },\r\n  filters: {\r\n    htmlfilter: function (val) {\r\n      return val.replace(/<[^>]*>/g).replace(/undefined/g, '');\r\n    }\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      let params = {\r\n        pageIndex: this.pageIndex,\r\n        pageSize: this.pageSize,\r\n      }\r\n      if (this.searchForm.name != '' && this.searchForm.name != undefined) {\r\n        params['name'] = '%' + this.searchForm.name + '%'\r\n      }\r\n      if (this.searchForm.description != '' && this.searchForm.desciption != undefined) {\r\n        params['description'] = '%' + this.searchForm.desciption + '%'\r\n      }\r\n      if (this.userType=='employer')\r\n      {\r\n        this.$http({\r\n        url: `/mission/sendersearchmissionsbyuid?uid=${this.$storage.get(\"uid\")}`,\r\n        method: \"get\",\r\n        //注：迭代一先不分页，把下面的注释掉即可。\r\n        params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          this.total = data.total;\r\n          console.log(this.dataList);\r\n          console.log(this.total);\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });}\r\n      if (this.userType=='employee')\r\n      {this.$http({\r\n        url: `/mission/workersearchmissionsbyuid?uid=${this.$storage.get('uid')}`,\r\n        method: \"get\",\r\n        //注：迭代一先不分页，把下面的注释掉即可。\r\n        //params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          this.total = data.total;\r\n          console.log(this.dataList);\r\n          console.log(this.total);\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });}\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 多选\r\n    selectionChangeHandler(val) {\r\n      this.dataListSelections = val;\r\n    },\r\n    // 添加/修改\r\n    watchMission(mid) {\r\n      // console.log(mid);\r\n      // console.log(type);\r\n      //type为detail代表详情，type为edit代表修改。\r\n      this.$router.push({\r\n        path:'/mission/detail',\r\n        query:{\r\n          mid:mid,\r\n          isMylist:\"true\",\r\n        }\r\n      })\r\n    },\r\n    submitReport(mid){\r\n      this.$router.push({\r\n        path:'/report/edit',\r\n        query:{\r\n          mid:mid,\r\n        }\r\n      })\r\n    },\r\n    // 下载\r\n    download(file) {\r\n      window.open(`${file}`)\r\n    },\r\n    // 放弃任务\r\n    giveUpMission(id) {\r\n      var ids = id\r\n          ? [Number(id)]\r\n          : this.dataListSelections.map(item => {\r\n            return Number(item.id);\r\n          });\r\n      this.$confirm(`确认放弃任务?`, \"提示\", {\r\n        confirmButtonText: \"残忍离开\",\r\n        cancelButtonText: \"算了吧\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http({\r\n          url: `/fetchmission/giveupmission?uid=${this.$storage.get('uid')}&mid=${id}`,\r\n          method: \"post\",\r\n          //先只实现一个用户的查找。\r\n          //  data: ids\r\n        }).then(({data}) => {\r\n          if (data && data.code === 0) {\r\n            this.$message({\r\n              message: \"操作成功\",\r\n              type: \"success\",\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.search();\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>"]}]}