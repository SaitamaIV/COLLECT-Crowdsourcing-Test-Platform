{"remainingRequest":"D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\软工三防爆\\frontend-collect\\src\\views\\modules\\mission\\myList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\软工三防爆\\frontend-collect\\src\\views\\modules\\mission\\myList.vue","mtime":1670320133552},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\babel-loader\\lib\\index.js","mtime":1670320081695},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670320086114},{"path":"D:\\软工三防爆\\frontend-collect\\node_modules\\vue-loader\\lib\\index.js","mtime":1670320130043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWFyY2hGb3JtOiB7DQogICAgICAgIGtleTogIiINCiAgICAgIH0sDQogICAgICBkYXRhTGlzdDogW10sDQogICAgICBwYWdlSW5kZXg6IDEsDQogICAgICBwYWdlU2l6ZTogMTAsDQogICAgICB0b3RhbDogMCwNCiAgICAgIGRhdGFMaXN0TG9hZGluZzogZmFsc2UsDQogICAgICBkYXRhTGlzdFNlbGVjdGlvbnM6IFtdLA0KICAgICAgdXNlclR5cGU6JycNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMudXNlclR5cGU9dGhpcy4kc3RvcmFnZS5nZXQoInVzZXJUeXBlIik7DQogICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICB9LA0KICBmaWx0ZXJzOiB7DQogICAgaHRtbGZpbHRlcjogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgcmV0dXJuIHZhbC5yZXBsYWNlKC88W14+XSo+L2cpLnJlcGxhY2UoL3VuZGVmaW5lZC9nLCAnJyk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2VhcmNoKCkgew0KICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOw0KICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgIH0sDQogICAgLy8g6I635Y+W5pWw5o2u5YiX6KGoDQogICAgZ2V0RGF0YUxpc3QoKSB7DQogICAgICB0aGlzLmRhdGFMaXN0TG9hZGluZyA9IHRydWU7DQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBwYWdlSW5kZXg6IHRoaXMucGFnZUluZGV4LA0KICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0ubmFtZSAhPSAnJyAmJiB0aGlzLnNlYXJjaEZvcm0ubmFtZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgcGFyYW1zWyduYW1lJ10gPSAnJScgKyB0aGlzLnNlYXJjaEZvcm0ubmFtZSArICclJw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5kZXNjcmlwdGlvbiAhPSAnJyAmJiB0aGlzLnNlYXJjaEZvcm0uZGVzY2lwdGlvbiAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgcGFyYW1zWydkZXNjcmlwdGlvbiddID0gJyUnICsgdGhpcy5zZWFyY2hGb3JtLmRlc2NpcHRpb24gKyAnJScNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLnVzZXJUeXBlPT0nZW1wbG95ZXInKQ0KICAgICAgew0KICAgICAgICB0aGlzLiRodHRwKHsNCiAgICAgICAgdXJsOiBgL21pc3Npb24vc2VuZGVyc2VhcmNobWlzc2lvbnNieXVpZD91aWQ9JHt0aGlzLiRzdG9yYWdlLmdldCgidWlkIil9YCwNCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwNCiAgICAgICAgLy/ms6jvvJrov63ku6PkuIDlhYjkuI3liIbpobXvvIzmiorkuIvpnaLnmoTms6jph4rmjonljbPlj6/jgIINCiAgICAgICAgcGFyYW1zOiBwYXJhbXMNCiAgICAgIH0pLnRoZW4oKHtkYXRhfSkgPT4gew0KICAgICAgICBpZiAoZGF0YSkgew0KICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhLmxpc3Q7DQogICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEudG90YWw7DQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhTGlzdCk7DQogICAgICAgICAgY29uc29sZS5sb2codGhpcy50b3RhbCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IFtdOw0KICAgICAgICAgIHRoaXMudG90YWwgPSAwOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7DQogICAgICB9KTt9DQogICAgICBpZiAodGhpcy51c2VyVHlwZT09J2VtcGxveWVlJykgew0KICAgICAgICB0aGlzLiRodHRwKHsNCiAgICAgICAgdXJsOiBgL21pc3Npb24vd29ya2Vyc2VhcmNobWlzc2lvbnNieXVpZD91aWQ9JHt0aGlzLiRzdG9yYWdlLmdldCgndWlkJyl9YCwNCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwNCiAgICAgICAgLy/ms6jvvJrov63ku6PkuIDlhYjkuI3liIbpobXvvIzmiorkuIvpnaLnmoTms6jph4rmjonljbPlj6/jgIINCiAgICAgICAgcGFyYW1zOiBwYXJhbXMNCiAgICAgIH0pLnRoZW4oKHtkYXRhfSkgPT4gew0KICAgICAgICBpZiAoZGF0YSkgew0KICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhLmxpc3Q7DQogICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEudG90YWw7DQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhTGlzdCk7DQogICAgICAgICAgY29uc29sZS5sb2codGhpcy50b3RhbCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IFtdOw0KICAgICAgICAgIHRoaXMudG90YWwgPSAwOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7DQogICAgICB9KTt9DQogICAgfSwNCiAgICAvLyDmr4/pobXmlbANCiAgICBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgew0KICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsNCiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIC8vIOW9k+WJjemhtQ0KICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7DQogICAgICB0aGlzLnBhZ2VJbmRleCA9IHZhbDsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIC8vIOWkmumAiQ0KICAgIHNlbGVjdGlvbkNoYW5nZUhhbmRsZXIodmFsKSB7DQogICAgICB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucyA9IHZhbDsNCiAgICB9LA0KICAgIC8vIOa3u+WKoC/kv67mlLkNCiAgICB3YXRjaE1pc3Npb24obWlkKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhtaWQpOw0KICAgICAgLy8gY29uc29sZS5sb2codHlwZSk7DQogICAgICAvL3R5cGXkuLpkZXRhaWzku6Pooajor6bmg4XvvIx0eXBl5Li6ZWRpdOS7o+ihqOS/ruaUueOAgg0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOicvbWlzc2lvbi9kZXRhaWwnLA0KICAgICAgICBxdWVyeTp7DQogICAgICAgICAgbWlkOm1pZCwNCiAgICAgICAgICBpc015bGlzdDoidHJ1ZSIsDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB3YXRjaE15UmVwb3J0KG1pZCl7DQogICAgICBsZXQgcGFyYW1zPXsNCiAgICAgICAgdWlkOnRoaXMuJHN0b3JhZ2UuZ2V0KCJ1aWQiKSwNCiAgICAgICAgbWlkOm1pZA0KICAgICAgfQ0KICAgICAgdGhpcy4kaHR0cCh7DQogICAgICAgIHVybDogYGZldGNobWlzc2lvbi9zZWFyY2hyZXBvcnRieWlkc2AsDQogICAgICAgIG1ldGhvZDogImdldCIsDQogICAgICAgIC8v5rOo77ya6L+t5Luj5LiA5YWI5LiN5YiG6aG177yM5oqK5LiL6Z2i55qE5rOo6YeK5o6J5Y2z5Y+v44CCDQogICAgICAgIHBhcmFtczogcGFyYW1zDQogICAgICB9KS50aGVuKCh7ZGF0YX0pID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZGF0YSkNCiAgICAgICAgbGV0IGZpZD1kYXRhLmZldGNobWlzc2lvbi5maWQNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgIHBhdGg6Jy9yZXBvcnQvZGV0YWlsJywNCiAgICAgICAgICBxdWVyeTp7DQogICAgICAgICAgICBmaWQ6ZmlkLA0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0pOw0KDQoNCiAgICB9LA0KICAgIHN1Ym1pdFJlcG9ydChtaWQpew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOicvcmVwb3J0L2VkaXQnLA0KICAgICAgICBxdWVyeTp7DQogICAgICAgICAgbWlkOm1pZCwNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOS4i+i9vQ0KICAgIGRvd25sb2FkKGZpbGUpIHsNCiAgICAgIHdpbmRvdy5vcGVuKGAke2ZpbGV9YCkNCiAgICB9LA0KICAgIC8vIOaUvuW8g+S7u+WKoQ0KICAgIGdpdmVVcE1pc3Npb24oaWQpIHsNCiAgICAgIHZhciBpZHMgPSBpZA0KICAgICAgICAgID8gW051bWJlcihpZCldDQogICAgICAgICAgOiB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucy5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICByZXR1cm4gTnVtYmVyKGl0ZW0uaWQpOw0KICAgICAgICAgIH0pOw0KICAgICAgdGhpcy4kY29uZmlybShg56Gu6K6k5pS+5byD5Lu75YqhP2AsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi5q6L5b+N56a75byAIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIueul+S6huWQpyIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIg0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuJGh0dHAoew0KICAgICAgICAgIHVybDogYC9mZXRjaG1pc3Npb24vZ2l2ZXVwbWlzc2lvbj91aWQ9JHt0aGlzLiRzdG9yYWdlLmdldCgndWlkJyl9Jm1pZD0ke2lkfWAsDQogICAgICAgICAgbWV0aG9kOiAicG9zdCIsDQogICAgICAgICAgLy/lhYjlj6rlrp7njrDkuIDkuKrnlKjmiLfnmoTmn6Xmib7jgIINCiAgICAgICAgICAvLyAgZGF0YTogaWRzDQogICAgICAgIH0pLnRoZW4oKHtkYXRhfSkgPT4gew0KICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip8iLA0KICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLA0KICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2goKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["myList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myList.vue","sourceRoot":"src/views/modules/mission","sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div>\r\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"form-content\">\r\n        <el-form-item label=\"任务名称\">\r\n          <el-input v-model=\"searchForm.name\"\r\n                    placeholder=\"任务名称\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述信息\">\r\n          <el-input v-model=\"searchForm.description\"\r\n                    placeholder=\"描述信息\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button round @click=\"search()\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"table-content\">\r\n        <el-table\r\n            :data=\"dataList\"\r\n            border\r\n            v-loading=\"dataListLoading\"\r\n            @selection-change=\"selectionChangeHandler\"\r\n            style=\"width: 100%;\">\r\n          <el-table-column\r\n              type=\"selection\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              width=\"50\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"name\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"任务名称\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.name}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"description\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"描述信息\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.description}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"missionType\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"任务类型\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.missionType}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"workerNum\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"最大人数\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.workerNum}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"watchMission(scope.row.mid)\">详情\r\n              </el-button>\r\n              <el-button v-if=\"userType=='employee'\" type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"giveUpMission(scope.row.mid)\">放弃任务\r\n              </el-button>\r\n              <el-button v-if=\"userType=='employee'\" type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"watchMyReport(scope.row.mid)\">我的报告\r\n              </el-button>\r\n              <el-button v-if=\"userType=='employee'\" type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                         @click=\"submitReport(scope.row.mid)\">提交测试报告\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            @size-change=\"sizeChangeHandle\"\r\n            @current-change=\"currentChangeHandle\"\r\n            :current-page=\"pageIndex\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pageSize\"\r\n            :total=\"total\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            class=\"pagination-content\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        key: \"\"\r\n      },\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      dataListLoading: false,\r\n      dataListSelections: [],\r\n      userType:''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.userType=this.$storage.get(\"userType\");\r\n    this.getDataList();\r\n  },\r\n  filters: {\r\n    htmlfilter: function (val) {\r\n      return val.replace(/<[^>]*>/g).replace(/undefined/g, '');\r\n    }\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      let params = {\r\n        pageIndex: this.pageIndex,\r\n        pageSize: this.pageSize,\r\n      }\r\n      if (this.searchForm.name != '' && this.searchForm.name != undefined) {\r\n        params['name'] = '%' + this.searchForm.name + '%'\r\n      }\r\n      if (this.searchForm.description != '' && this.searchForm.desciption != undefined) {\r\n        params['description'] = '%' + this.searchForm.desciption + '%'\r\n      }\r\n      if (this.userType=='employer')\r\n      {\r\n        this.$http({\r\n        url: `/mission/sendersearchmissionsbyuid?uid=${this.$storage.get(\"uid\")}`,\r\n        method: \"get\",\r\n        //注：迭代一先不分页，把下面的注释掉即可。\r\n        params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          this.total = data.total;\r\n          console.log(this.dataList);\r\n          console.log(this.total);\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });}\r\n      if (this.userType=='employee') {\r\n        this.$http({\r\n        url: `/mission/workersearchmissionsbyuid?uid=${this.$storage.get('uid')}`,\r\n        method: \"get\",\r\n        //注：迭代一先不分页，把下面的注释掉即可。\r\n        params: params\r\n      }).then(({data}) => {\r\n        if (data) {\r\n          this.dataList = data.list;\r\n          this.total = data.total;\r\n          console.log(this.dataList);\r\n          console.log(this.total);\r\n        } else {\r\n          this.dataList = [];\r\n          this.total = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });}\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 多选\r\n    selectionChangeHandler(val) {\r\n      this.dataListSelections = val;\r\n    },\r\n    // 添加/修改\r\n    watchMission(mid) {\r\n      // console.log(mid);\r\n      // console.log(type);\r\n      //type为detail代表详情，type为edit代表修改。\r\n      this.$router.push({\r\n        path:'/mission/detail',\r\n        query:{\r\n          mid:mid,\r\n          isMylist:\"true\",\r\n        }\r\n      })\r\n    },\r\n    watchMyReport(mid){\r\n      let params={\r\n        uid:this.$storage.get(\"uid\"),\r\n        mid:mid\r\n      }\r\n      this.$http({\r\n        url: `fetchmission/searchreportbyids`,\r\n        method: \"get\",\r\n        //注：迭代一先不分页，把下面的注释掉即可。\r\n        params: params\r\n      }).then(({data}) => {\r\n        console.log(data)\r\n        let fid=data.fetchmission.fid\r\n        this.$router.push({\r\n          path:'/report/detail',\r\n          query:{\r\n            fid:fid,\r\n          }\r\n        })\r\n      });\r\n\r\n\r\n    },\r\n    submitReport(mid){\r\n      this.$router.push({\r\n        path:'/report/edit',\r\n        query:{\r\n          mid:mid,\r\n        }\r\n      })\r\n    },\r\n    // 下载\r\n    download(file) {\r\n      window.open(`${file}`)\r\n    },\r\n    // 放弃任务\r\n    giveUpMission(id) {\r\n      var ids = id\r\n          ? [Number(id)]\r\n          : this.dataListSelections.map(item => {\r\n            return Number(item.id);\r\n          });\r\n      this.$confirm(`确认放弃任务?`, \"提示\", {\r\n        confirmButtonText: \"残忍离开\",\r\n        cancelButtonText: \"算了吧\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http({\r\n          url: `/fetchmission/giveupmission?uid=${this.$storage.get('uid')}&mid=${id}`,\r\n          method: \"post\",\r\n          //先只实现一个用户的查找。\r\n          //  data: ids\r\n        }).then(({data}) => {\r\n          if (data && data.code === 0) {\r\n            this.$message({\r\n              message: \"操作成功\",\r\n              type: \"success\",\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.search();\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>"]}]}